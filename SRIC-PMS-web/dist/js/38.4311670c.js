"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[38],{8942:function(e,a,l){l.d(a,{BU:function(){return o},C6:function(){return d},DO:function(){return n},P2:function(){return t},UB:function(){return r},Ym:function(){return v},dP:function(){return c},r$:function(){return i},r3:function(){return s}});var u=l(9470);function t(e){return(0,u.Jt)("/resourcesManage/getResourcesCategoryManageDataList",e)}function r(e){return(0,u.Jt)("/resources/getResourcesCategoryList",e)}function s(e){return(0,u.bE)("/resourcesManage/addOrUpdateResourcesCategory",e)}function n(e){return(0,u.Jt)("/resourcesManage/getResourcesManageList",e)}function o(e){return(0,u.bE)("/resourcesManage/editResourcesMessage",e)}function c(e){return(0,u.Jt)("/resourcesManage/checkResourcesName",e)}function i(e,a){return(0,u.jT)("/resourcesManage/uploadResources",e,a)}function d(e){return(0,u.Jt)("/resources/getResourcesList",e)}function v(e){return(0,u.PE)("/resources/downloadResources",e)}},1506:function(e,a,l){l.d(a,{y:function(){return u}});const u=[{value:"1",label:"#c93f38"},{value:"2",label:"#e56e24"},{value:"3",label:"#eec400"},{value:"4",label:"#a59344"},{value:"5",label:"#76b583"},{value:"6",label:"#008a60"},{value:"7",label:"#65a7dd"},{value:"8",label:"#00035b"},{value:"9",label:"#7249d6"},{value:"10",label:"#9c52f2"}]},1038:function(e,a,l){l.r(a),l.d(a,{default:function(){return M}});l(4114);var u=l(6768),t=l(4232),r=l(144),s=l(8942),n=l(9055),o=l(1506),c=l(1387),i=l(1219),d=l(8374);const v={class:"resources-category-item-span"},g={class:"resources-category-item-span"},p={class:"resources-category-item-span"},m={class:"resources-search-div"},k={class:"resources-card-details"},b={class:"resources-card-name-text"},f={class:"resources-card-tags-div"},_={class:"resources-manage-card-span"},F={class:"resources-manage-card-span"},y={class:"resources-card-tag-text"},h={class:"resources-manage-card-span"},w={class:"resources-pagination-div"},L={class:"resources-drawer-title"},R="0";var C=(0,u.pM)({__name:"ResourcesManage",setup(e){const{t:a}=d.A.global,l=(0,c.rd)(),C=(0,r.KR)("min-height:"+(window.innerHeight-200)+"px;"),K=(0,r.KR)(!1),M=(0,r.KR)("200px"),x=(0,r.KR)([]),V=(0,r.KR)("0"),U=(0,r.KR)(window.innerHeight-320+"px"),E=(0,r.KR)(),$=(0,r.KR)(1),z=(0,r.KR)(0),X=(0,r.KR)([]),W=(0,r.KR)(!1),B=(0,r.KR)(""),T=(0,r.Kh)({name:"",level:"",category:""}),H=(0,r.KR)(),I=(0,r.Kh)({name:[{required:!0,message:a("rules.name"),trigger:"blur"}],level:[{required:!0,message:a("rules.permissionLevel"),trigger:"blur"}],category:[{required:!0,message:a("rules.category"),trigger:"blur"}]}),J=async()=>{try{const e=await(0,s.UB)({});x.value=e.data}catch{}},q=async()=>{try{const e={searchInput:E.value,category:V.value,page:$.value},a=await(0,s.DO)(e);z.value=a.data.total,X.value=a.data.resourcesList}catch{}};(0,u.sV)((()=>{J(),q()}));const P=e=>{V.value=e,q()},S=e=>{X.value[e].background="border-width: 5px;"},D=e=>{X.value[e].background=""},O=()=>{q()},N=()=>{l.push({name:"ResourcesUpload",path:"/ResourcesUpload"})},Y=e=>{B.value=e.uuid,T.name=e.name,T.level=e.level,T.category=e.category,W.value=!0},j=()=>{q()},A=async e=>{e&&await e.validate(((e,a)=>{e?G():console.log("error submit!",a)}))},G=async()=>{try{const e={uuid:B.value,name:T.name,level:T.level,category:T.category},l=await(0,s.BU)(e);200==l.data.code?((0,i.nk)({message:a("static.saveSuccess"),type:"success"}),W.value=!1):400==l.data.code?(0,i.nk)({message:a("static.nameHasBeenUsed"),type:"warning"}):(0,i.nk)({message:a("static.paramsError"),type:"error"}),W.value=!1,q()}catch{}},Q=()=>{window.innerWidth>800&&(K.value?(K.value=!1,M.value="200px"):(K.value=!0,M.value="75px"))},Z=()=>{C.value="min-height:"+(window.innerHeight-200)+"px;",window.innerWidth<800?(K.value=!0,M.value="75px"):(K.value=!1,M.value="200px"),ee()},ee=()=>{U.value=window.innerHeight-310+"px"};return Z(),window.addEventListener("resize",Z),(e,a)=>{const l=(0,u.g2)("Switch"),s=(0,u.g2)("el-icon"),c=(0,u.g2)("el-menu-item"),i=(0,u.g2)("Coin"),d=(0,u.g2)("Menu"),V=(0,u.g2)("el-menu"),B=(0,u.g2)("el-aside"),J=(0,u.g2)("search"),q=(0,u.g2)("el-button"),G=(0,u.g2)("el-input"),Z=(0,u.g2)("el-col"),ee=(0,u.g2)("UploadFilled"),ae=(0,u.g2)("el-row"),le=(0,u.g2)("Edit"),ue=(0,u.g2)("el-tag"),te=(0,u.g2)("el-card"),re=(0,u.g2)("el-scrollbar"),se=(0,u.g2)("el-pagination"),ne=(0,u.g2)("el-main"),oe=(0,u.g2)("el-container"),ce=(0,u.g2)("el-form-item"),ie=(0,u.g2)("el-option"),de=(0,u.g2)("el-select"),ve=(0,u.g2)("CircleCheckFilled"),ge=(0,u.g2)("el-form"),pe=(0,u.g2)("el-drawer");return(0,u.uX)(),(0,u.CE)(u.FK,null,[(0,u.bF)(te,null,{default:(0,u.k6)((()=>[(0,u.bF)(oe,null,{default:(0,u.k6)((()=>[(0,u.bF)(B,{width:M.value},{default:(0,u.k6)((()=>[(0,u.bF)(V,{style:(0,t.Tr)(C.value),"default-active":R,ellipsis:!1,collapse:K.value,onSelect:P},{default:(0,u.k6)((()=>[(0,u.bF)(c,{onClick:Q},{title:(0,u.k6)((()=>[(0,u.Lk)("span",v,(0,t.v_)(e.$t("common.collapse")),1)])),default:(0,u.k6)((()=>[(0,u.bF)(s,{size:25},{default:(0,u.k6)((()=>[(0,u.bF)(l)])),_:1})])),_:1}),(0,u.bF)(c,{index:"0"},{title:(0,u.k6)((()=>[(0,u.Lk)("span",g,(0,t.v_)(e.$t("common.all")),1)])),default:(0,u.k6)((()=>[(0,u.bF)(s,{size:25},{default:(0,u.k6)((()=>[(0,u.bF)(i)])),_:1})])),_:1}),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(x.value,((e,a)=>((0,u.uX)(),(0,u.Wv)(c,{key:a,index:e.id.toString()},{title:(0,u.k6)((()=>[(0,u.Lk)("span",p,(0,t.v_)(e.name),1)])),default:(0,u.k6)((()=>[(0,u.bF)(s,{size:25},{default:(0,u.k6)((()=>[(0,u.bF)(d)])),_:1})])),_:2},1032,["index"])))),128))])),_:1},8,["style","collapse"])])),_:1},8,["width"]),(0,u.bF)(ne,null,{default:(0,u.k6)((()=>[(0,u.Lk)("div",null,[(0,u.Lk)("div",m,[(0,u.bF)(ae,null,{default:(0,u.k6)((()=>[(0,u.bF)(Z,{span:20},{default:(0,u.k6)((()=>[(0,u.bF)(G,{modelValue:E.value,"onUpdate:modelValue":a[0]||(a[0]=e=>E.value=e),placeholder:"search"},{append:(0,u.k6)((()=>[(0,u.bF)(q,{onClick:O},{default:(0,u.k6)((()=>[(0,u.bF)(s,null,{default:(0,u.k6)((()=>[(0,u.bF)(J)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,u.bF)(Z,{span:4},{default:(0,u.k6)((()=>[(0,u.bF)(q,{onClick:a[1]||(a[1]=e=>N()),class:"resources-add-button",type:"danger"},{default:(0,u.k6)((()=>[(0,u.bF)(s,{size:"15"},{default:(0,u.k6)((()=>[(0,u.bF)(ee)])),_:1})])),_:1})])),_:1})])),_:1})]),(0,u.bF)(re,{height:U.value},{default:(0,u.k6)((()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(X.value,((a,l)=>((0,u.uX)(),(0,u.Wv)(te,{key:l,onMouseover:e=>S(l),onMouseleave:e=>D(l),style:(0,t.Tr)(a.background),class:"resources-card"},{default:(0,u.k6)((()=>[(0,u.Lk)("div",k,[(0,u.Lk)("span",b,(0,t.v_)(a.name),1),(0,u.bF)(q,{class:"resources-card-edit-button",type:"warning",onClick:e=>Y(a)},{default:(0,u.k6)((()=>[(0,u.bF)(s,null,{default:(0,u.k6)((()=>[(0,u.bF)(le)])),_:1})])),_:2},1032,["onClick"]),(0,u.Lk)("div",f,[(0,u.Lk)("span",_,(0,t.v_)(a.type),1),(0,u.Lk)("span",F,(0,t.v_)(a.size)+"MB",1),(0,u.bF)(ue,{class:"resources-card-tags",effect:"dark",type:"warning",size:"small"},{default:(0,u.k6)((()=>[(0,u.Lk)("span",y,(0,t.v_)(a.categoryName),1)])),_:2},1024),(0,u.Lk)("span",{class:"resources-manage-card-span",style:(0,t.Tr)((0,r.R1)(n.qY)(a.level))},(0,t.v_)(e.$t("common.level"))+" "+(0,t.v_)(a.level),5),(0,u.Lk)("span",h,(0,t.v_)(a.createTime),1)])])])),_:2},1032,["onMouseover","onMouseleave","style"])))),128))])),_:1},8,["height"]),(0,u.Lk)("div",w,[(0,u.bF)(se,{layout:"prev, pager, next","current-page":$.value,"onUpdate:currentPage":a[2]||(a[2]=e=>$.value=e),onCurrentChange:a[3]||(a[3]=e=>j()),"page-size":20,total:z.value,"pager-count":5,background:""},null,8,["current-page","total"])])])])),_:1})])),_:1})])),_:1}),(0,u.bF)(pe,{modelValue:W.value,"onUpdate:modelValue":a[8]||(a[8]=e=>W.value=e)},{header:(0,u.k6)((()=>[(0,u.Lk)("span",L,(0,t.v_)(e.$t("static.editResources")),1)])),default:(0,u.k6)((()=>[(0,u.bF)(ge,{ref_key:"resourcesFormRef",ref:H,model:T,rules:I},{default:(0,u.k6)((()=>[(0,u.bF)(ce,{prop:"name"},{default:(0,u.k6)((()=>[(0,u.Lk)("h1",null,(0,t.v_)(e.$t("common.name")),1),(0,u.bF)(G,{modelValue:T.name,"onUpdate:modelValue":a[4]||(a[4]=e=>T.name=e),clearable:""},null,8,["modelValue"])])),_:1}),(0,u.bF)(ce,{prop:"level"},{default:(0,u.k6)((()=>[(0,u.Lk)("h1",null,(0,t.v_)(e.$t("static.permissionLevel")),1),(0,u.bF)(de,{modelValue:T.level,"onUpdate:modelValue":a[5]||(a[5]=e=>T.level=e)},{label:(0,u.k6)((({value:a})=>[(0,u.Lk)("span",null,(0,t.v_)(e.$t("static.permissionLevel"))+" : "+(0,t.v_)(a),1)])),default:(0,u.k6)((()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,r.R1)(o.y),((a,l)=>((0,u.uX)(),(0,u.Wv)(ie,{key:l,label:a.label,value:a.value},{default:(0,u.k6)((()=>[(0,u.bF)(ue,{color:a.label,class:"permission-main-menu-select-color-tag",size:"small"},null,8,["color"]),(0,u.Lk)("span",{style:(0,t.Tr)({color:a.label})},(0,t.v_)(e.$t("static.permissionLevel"))+" : "+(0,t.v_)(a.value),5)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,u.bF)(ce,{prop:"category"},{default:(0,u.k6)((()=>[(0,u.Lk)("h1",null,(0,t.v_)(e.$t("common.category")),1),(0,u.bF)(de,{modelValue:T.category,"onUpdate:modelValue":a[6]||(a[6]=e=>T.category=e)},{default:(0,u.k6)((()=>[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(x.value,((e,a)=>((0,u.uX)(),(0,u.Wv)(ie,{key:a,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,u.bF)(ce,null,{default:(0,u.k6)((()=>[(0,u.bF)(q,{onClick:a[7]||(a[7]=e=>A(H.value)),type:"success"},{default:(0,u.k6)((()=>[(0,u.bF)(s,{class:"resources-submit-button-icon",size:"15"},{default:(0,u.k6)((()=>[(0,u.bF)(ve)])),_:1}),(0,u.eW)(" "+(0,t.v_)(e.$t("common.submit")),1)])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])],64)}}});const K=C;var M=K}}]);
//# sourceMappingURL=38.4311670c.js.map