"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[653],{4030:function(e,t,n){n.d(t,{$U:function(){return f},B6:function(){return o},FN:function(){return r},G4:function(){return u},HI:function(){return i},KB:function(){return b},KN:function(){return v},Su:function(){return m},Vv:function(){return s},Wb:function(){return g},_M:function(){return l},po:function(){return p},wI:function(){return c},xI:function(){return k},yx:function(){return d}});var a=n(9470);function r(e){return(0,a.Jt)("/projectManage/getProjectManageList",e)}function o(e){return(0,a.bE)("/projectManage/addOrUpdateProject",e)}function u(e){return(0,a.Jt)("/projectManage/getProjectManageListWithUserList",e)}function l(e){return(0,a.bE)("/projectManage/deleteProjectUser",e)}function c(e){return(0,a.bE)("/projectManage/addProjectUser",e)}function i(e){return(0,a.Jt)("/project/getProjectListWithUserList",e)}function d(e){return(0,a.Jt)("/project/getProjectByUuid",e)}function s(e){return(0,a.Jt)("/projectItem/getProjectItemListByProject",e)}function m(e){return(0,a.bE)("/projectItem/endProjectItem",e)}function p(e){return(0,a.bE)("/projectItem/pickProjectItemUser",e)}function g(e){return(0,a.bE)("/projectItem/addProjectItem",e)}function f(e){return(0,a.bE)("/projectItemManage/endProjectItemManage",e)}function b(e){return(0,a.bE)("/projectItemManage/pickProjectItemUserManage",e)}function k(e){return(0,a.bE)("/projectItemManage/addProjectItemManage",e)}function v(e){return(0,a.bE)("/projectItemManage/updateProjectItemTextManage",e)}},7653:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var a=n(6768),r=n(4232),o=n(144),u=n(4030),l=n(1219),c=n(8374);const i={class:"project-manage-pagination-div"},d={class:"project-manage-drawer-title"};var s=(0,a.pM)({__name:"ProjectManage",setup(e){const{t:t}=c.A.global,n=(0,o.KR)([]),s=(0,o.KR)(1),m=(0,o.KR)(0),p=(0,o.KR)(window.innerHeight-290+"px"),g=(0,o.KR)(!1),f=(0,o.Kh)({name:"",description:"",isEnded:""}),b=(0,o.KR)(),k=(0,o.Kh)({name:[{required:!0,message:t("rules.name"),trigger:"blur"}],description:[{required:!0,message:t("rules.description"),trigger:"blur"}]}),v=(0,o.KR)(""),j=[{value:"0",label:t("common.open")},{value:"1",label:t("common.close")}],_=async()=>{try{const e={page:s.value},t=await(0,u.FN)(e);m.value=t.data.total,n.value=t.data.projectList}catch{}};(0,a.sV)((()=>{_()}));const h=()=>{_()},F=e=>{f.name=e.name,f.description=e.description,f.isEnded=e.isEnded,g.value=!0,v.value=e.uuid},w=()=>{f.name="",f.description="",f.isEnded="0",g.value=!0,v.value=""},E=async()=>{try{const e={uuid:v.value,name:f.name,description:f.description,isEnded:f.isEnded},n=await(0,u.B6)(e);200==n.data.code?(0,l.nk)({message:t("static.submitSuccess"),type:"success"}):400==n.data.code?(0,l.nk)({message:t("static.nameHasBeenUsed"),type:"warning"}):(0,l.nk)({message:t("static.paramsError"),type:"error"}),_(),g.value=!1}catch{}},y=async e=>{e&&await e.validate(((e,t)=>{e?E():console.log("error submit!",t)}))},I=()=>{p.value=window.innerHeight-290+"px"};return window.addEventListener("resize",I),(e,t)=>{const o=(0,a.g2)("el-table-column"),u=(0,a.g2)("Unlock"),l=(0,a.g2)("el-icon"),c=(0,a.g2)("Lock"),v=(0,a.g2)("el-button"),_=(0,a.g2)("el-table"),E=(0,a.g2)("el-pagination"),I=(0,a.g2)("Plus"),P=(0,a.g2)("el-card"),M=(0,a.g2)("el-input"),C=(0,a.g2)("el-form-item"),U=(0,a.g2)("el-option"),L=(0,a.g2)("el-select"),V=(0,a.g2)("CircleCheckFilled"),K=(0,a.g2)("el-form"),W=(0,a.g2)("el-drawer");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[(0,a.bF)(_,{data:n.value,height:p.value},{default:(0,a.k6)((()=>[(0,a.bF)(o,{prop:"uuid",width:"200"},{header:(0,a.k6)((()=>[(0,a.eW)(" PROJECT ID ")])),_:1}),(0,a.bF)(o,{prop:"name",width:"200"},{header:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.$t("common.name")),1)])),_:1}),(0,a.bF)(o,{prop:"createTime",width:"180"},{header:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.$t("common.createTime")),1)])),_:1}),(0,a.bF)(o,{prop:"description"},{header:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.$t("common.description")),1)])),_:1}),(0,a.bF)(o,{prop:"isEnded",width:"60"},{header:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.$t("common.state")),1)])),default:(0,a.k6)((e=>[0==e.row.isEnded?((0,a.uX)(),(0,a.Wv)(l,{key:0,style:{color:"#67C23A"}},{default:(0,a.k6)((()=>[(0,a.bF)(u)])),_:1})):(0,a.Q3)("",!0),1==e.row.isEnded?((0,a.uX)(),(0,a.Wv)(l,{key:1,style:{color:"#F56C6C"}},{default:(0,a.k6)((()=>[(0,a.bF)(c)])),_:1})):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(o,{fixed:"right",label:"Operations",width:"120"},{header:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.$t("common.operations")),1)])),default:(0,a.k6)((t=>[(0,a.bF)(v,{link:"",type:"primary",onClick:e=>F(t.row)},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.$t("common.edit")),1)])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","height"]),(0,a.Lk)("div",i,[(0,a.bF)(E,{layout:"prev, pager, next","current-page":s.value,"onUpdate:currentPage":t[0]||(t[0]=e=>s.value=e),onCurrentChange:t[1]||(t[1]=e=>h()),"page-size":20,total:m.value,"pager-count":5,background:""},null,8,["current-page","total"])]),(0,a.bF)(v,{onClick:t[2]||(t[2]=e=>w()),type:"warning",class:"project-manage-add-button",plain:""},{default:(0,a.k6)((()=>[(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.bF)(I)])),_:1}),(0,a.Lk)("span",null,(0,r.v_)(e.$t("common.add")),1)])),_:1})])),_:1}),(0,a.bF)(W,{modelValue:g.value,"onUpdate:modelValue":t[7]||(t[7]=e=>g.value=e)},{header:(0,a.k6)((()=>[(0,a.Lk)("span",d,(0,r.v_)(e.$t("static.editAndAddInterface")),1)])),default:(0,a.k6)((()=>[(0,a.bF)(K,{ref_key:"projectFormRef",ref:b,model:f,rules:k},{default:(0,a.k6)((()=>[(0,a.bF)(C,{prop:"name"},{default:(0,a.k6)((()=>[(0,a.Lk)("h1",null,(0,r.v_)(e.$t("common.name")),1),(0,a.bF)(M,{modelValue:f.name,"onUpdate:modelValue":t[3]||(t[3]=e=>f.name=e),maxlength:"30","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1}),(0,a.bF)(C,{prop:"description"},{default:(0,a.k6)((()=>[(0,a.Lk)("h1",null,(0,r.v_)(e.$t("common.description")),1),(0,a.bF)(M,{modelValue:f.description,"onUpdate:modelValue":t[4]||(t[4]=e=>f.description=e),rows:2,type:"textarea",maxlength:"50","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1}),(0,a.bF)(C,{prop:"isEnded"},{default:(0,a.k6)((()=>[(0,a.Lk)("h1",null,(0,r.v_)(e.$t("common.state")),1),(0,a.bF)(L,{modelValue:f.isEnded,"onUpdate:modelValue":t[5]||(t[5]=e=>f.isEnded=e)},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(j,((e,t)=>(0,a.bF)(U,{key:t,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.bF)(v,{onClick:t[6]||(t[6]=e=>y(b.value)),type:"success"},{default:(0,a.k6)((()=>[(0,a.bF)(l,{class:"project-submit-button-icon",size:"15"},{default:(0,a.k6)((()=>[(0,a.bF)(V)])),_:1}),(0,a.eW)(" "+(0,r.v_)(e.$t("common.submit")),1)])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])],64)}}});const m=s;var p=m}}]);
//# sourceMappingURL=653.96a72d94.js.map