"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[24],{7024:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});t(4114);var l=t(6768),i=t(4232),u=t(8355),s=t(144),n=t(9470);function c(e){return(0,n.Jt)("/h/getHPictureRandomList",e)}const r={id:"hPictureLeftImage"},o={id:"hPictureRightImage"},d={class:"HFilesPictuire-load-button-p"},v={class:"HFilesPictuire-load-button-p"};var f=(0,l.pM)({__name:"HfilesPicture",setup(e){const a=(0,s.KR)([]),t=(0,s.KR)([]),n=(0,s.KR)(window.innerHeight-140+"px"),f=(0,s.KR)([]),h=(0,s.KR)(),g=(0,s.KR)(-1),w=(0,s.KR)(!1),k=(0,s.KR)(!1),p=(e,l)=>new Promise((i=>{const s=new Image;s.onload=()=>{const s=document.getElementById("hPictureLeftImage"),n=document.getElementById("hPictureRightImage");if(s&&n){const c=s.offsetHeight,r=n.offsetHeight;c>r?t.value.push(u.A.defaults.baseURL+"/static/hFile/hPicture/"+e+"."+l):a.value.push(u.A.defaults.baseURL+"/static/hFile/hPicture/"+e+"."+l),i()}},s.src=u.A.defaults.baseURL+"/static/hFile/hPicture/"+e+"."+l})),b=async()=>{try{const e=await c({});f.value=e.data,h.value=e.data.length-1}catch{}},F=async(e,a)=>{for(let t=e;t<=a;t++)await p(f.value[t].id,f.value[t].filename)},P=async()=>{g.value+10<=h.value?(await F(g.value+1,g.value+10),g.value=g.value+10):(await F(g.value+1,h.value),g.value=h.value),g.value>=h.value&&(w.value=!0)},m=async()=>{k.value=!0,await P(),k.value=!1};(0,l.sV)((async()=>{await b(),await P()}));const R=e=>{console.log(e)},y=()=>{n.value=window.innerHeight-140+"px"};return y(),window.addEventListener("resize",y),(e,u)=>{const s=(0,l.g2)("el-image"),c=(0,l.g2)("el-card"),f=(0,l.g2)("el-col"),h=(0,l.g2)("el-row"),g=(0,l.g2)("el-scrollbar"),p=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(g,{onScroll:u[0]||(u[0]=e=>R(e)),height:n.value},{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,{span:12},{default:(0,l.k6)((()=>[(0,l.Lk)("div",r,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,((e,t)=>((0,l.uX)(),(0,l.Wv)(c,{key:t,class:"HFilesPictuire-card"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{src:e,"preview-src-list":a.value,"initial-index":t},null,8,["src","preview-src-list","initial-index"])])),_:2},1024)))),128))])])),_:1}),(0,l.bF)(f,{span:12},{default:(0,l.k6)((()=>[(0,l.Lk)("div",o,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.value,((e,a)=>((0,l.uX)(),(0,l.Wv)(c,{key:a,class:"HFilesPictuire-card"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{src:e,"preview-src-list":t.value,"initial-index":a},null,8,["src","preview-src-list","initial-index"])])),_:2},1024)))),128))])])),_:1})])),_:1}),(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",null,[w.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(c,{key:0,class:"HFilesPictuire-load-button-card",onClick:m},{default:(0,l.k6)((()=>[(0,l.Lk)("p",d,(0,i.v_)(e.$t("static.loadMore")),1)])),_:1})),w.value?((0,l.uX)(),(0,l.Wv)(c,{key:1,class:"HFilesPictuire-load-button-card"},{default:(0,l.k6)((()=>[(0,l.Lk)("p",v,(0,i.v_)(e.$t("static.noMore")),1)])),_:1})):(0,l.Q3)("",!0)])),[[p,k.value]])])),_:1},8,["height"])])}}});const h=f;var g=h}}]);
//# sourceMappingURL=24.aa36154e.js.map