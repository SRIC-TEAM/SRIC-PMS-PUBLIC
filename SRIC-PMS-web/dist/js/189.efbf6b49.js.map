{"version":3,"file":"js/189.efbf6b49.js","mappings":"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","sources":["webpack://front/./src/views/user/UserProfile.vue?3803","webpack://front/./src/views/user/UserProfile.vue","webpack://front/./src/views/user/UserProfile.vue?d130"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, unref as _unref, createElementVNode as _createElementVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"common-body-set-width\" }\nconst _hoisted_2 = { class: \"user-profile-body-div\" }\nconst _hoisted_3 = { class: \"user-profile-details-div\" }\nconst _hoisted_4 = { class: \"user-profile-details-mark\" }\n\nimport axios from 'axios';\r\nimport { ref } from 'vue'\r\nimport { getUserMessage } from '@/axios/api/user'\r\nimport { getStatusColorCode,copyText } from '@/tools/tool'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElNotification } from 'element-plus'\r\nimport { h } from 'vue'\r\nimport i18n from '@/language';\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'UserProfile',\n  setup(__props) {\n\r\nconst router = useRouter()\r\nconst { t } = i18n.global\r\n\r\nconst avatarUrl = ref(axios.defaults.baseURL + \"/static/file/userAvatar/NULL.webp\") //头像URL\r\nconst username = ref(\"NULL\") //用户名显示\r\nconst userUid = ref(\"0\") //用户 UID\r\nconst userStatus = ref(10) //用户 权限\r\nconst mark = ref(\"NULL MARK\") //\r\n\r\nconst loadUserMessage = async () => //获取用户信息(用户名，头像)\r\n{\r\n    try\r\n    {\r\n        const resp = await getUserMessage({ uuid: localStorage.getItem(\"uuid\") })\r\n        username.value = resp.data.username\r\n        userUid.value = resp.data.uid\r\n        userStatus.value = userStatus.value = Number(localStorage.getItem(\"userStatus\"))\r\n        avatarUrl.value = axios.defaults.baseURL + \"/static/file/userAvatar/\" + resp.data.avatar\r\n        mark.value = resp.data.mark\r\n        if(resp.data.signCode == 500) //token过期\r\n        {\r\n            ElNotification\r\n            ({\r\n                title: t(\"common.noties\"),\r\n                message: h('i', { style: 'color: teal' }, t(\"sign.tokenTimeOut\")),\r\n                offset: 50,\r\n            })\r\n            localStorage.setItem(\"isSignIn\",\"false\")\r\n            localStorage.removeItem(\"token\")\r\n            localStorage.removeItem(\"uuid\")\r\n            localStorage.removeItem(\"uid\")\r\n        }\r\n    } catch {}\r\n}\r\n\r\nconst clickEditUserProfile = () =>\r\n{\r\n    router.push\r\n    ({\r\n        name: 'UserProfileEdit',\r\n        path: '/UserProfileEdit',\r\n    })\r\n}\r\n\r\nloadUserMessage()\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_el_avatar = _resolveComponent(\"el-avatar\")!\n  const _component_Edit = _resolveComponent(\"Edit\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_tag = _resolveComponent(\"el-tag\")!\n  const _component_el_divider = _resolveComponent(\"el-divider\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_el_avatar, {\n        src: avatarUrl.value,\n        size: 100,\n        onClick: clickEditUserProfile\n      }, null, 8, [\"src\"]),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", null, [\n          _createElementVNode(\"span\", {\n            class: \"user-profile-details-username\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (_unref(copyText)(username.value)))\n          }, _toDisplayString(username.value), 1),\n          _createVNode(_component_el_icon, {\n            size: \"25\",\n            class: \"user-profile-details-username-edit-icon\",\n            onClick: clickEditUserProfile\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_Edit)\n            ]),\n            _: 1\n          })\n        ]),\n        _createElementVNode(\"div\", null, [\n          _createElementVNode(\"span\", {\n            class: \"user-profile-details-uid\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_unref(copyText)(userUid.value)))\n          }, \"UID : \" + _toDisplayString(userUid.value), 1),\n          _createVNode(_component_el_tag, {\n            effect: \"dark\",\n            type: \"info\",\n            color: _unref(getStatusColorCode)(userStatus.value),\n            class: \"user-profile-details-status\"\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"PM \" + _toDisplayString(userStatus.value), 1)\n            ]),\n            _: 1\n          }, 8, [\"color\"])\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createElementVNode(\"span\", null, _toDisplayString(mark.value), 1)\n    ]),\n    _createVNode(_component_el_divider)\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"common-body-set-width\">\r\n        <div class=\"user-profile-body-div\">\r\n            <el-avatar :src=\"avatarUrl\" :size=\"100\" @click=\"clickEditUserProfile\"></el-avatar>\r\n            <div class=\"user-profile-details-div\">\r\n                <div>\r\n                    <span class=\"user-profile-details-username\" @click=\"copyText(username)\">{{ username }}</span>\r\n                    <el-icon size=\"25\" class=\"user-profile-details-username-edit-icon\" @click=\"clickEditUserProfile\"><Edit /></el-icon>\r\n                </div>\r\n                <div>\r\n                    <span class=\"user-profile-details-uid\" @click=\"copyText(userUid)\">UID : {{ userUid }}</span>\r\n                    <el-tag effect=\"dark\" type=\"info\" :color=\"getStatusColorCode(userStatus)\" class=\"user-profile-details-status\">PM {{ userStatus }}</el-tag>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"user-profile-details-mark\">\r\n            <span>{{ mark }}</span>\r\n        </div>\r\n        <el-divider></el-divider>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport axios from 'axios';\r\nimport { ref } from 'vue'\r\nimport { getUserMessage } from '@/axios/api/user'\r\nimport { getStatusColorCode,copyText } from '@/tools/tool'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElNotification } from 'element-plus'\r\nimport { h } from 'vue'\r\nimport i18n from '@/language';\r\nconst router = useRouter()\r\nconst { t } = i18n.global\r\n\r\nconst avatarUrl = ref(axios.defaults.baseURL + \"/static/file/userAvatar/NULL.webp\") //头像URL\r\nconst username = ref(\"NULL\") //用户名显示\r\nconst userUid = ref(\"0\") //用户 UID\r\nconst userStatus = ref(10) //用户 权限\r\nconst mark = ref(\"NULL MARK\") //\r\n\r\nconst loadUserMessage = async () => //获取用户信息(用户名，头像)\r\n{\r\n    try\r\n    {\r\n        const resp = await getUserMessage({ uuid: localStorage.getItem(\"uuid\") })\r\n        username.value = resp.data.username\r\n        userUid.value = resp.data.uid\r\n        userStatus.value = userStatus.value = Number(localStorage.getItem(\"userStatus\"))\r\n        avatarUrl.value = axios.defaults.baseURL + \"/static/file/userAvatar/\" + resp.data.avatar\r\n        mark.value = resp.data.mark\r\n        if(resp.data.signCode == 500) //token过期\r\n        {\r\n            ElNotification\r\n            ({\r\n                title: t(\"common.noties\"),\r\n                message: h('i', { style: 'color: teal' }, t(\"sign.tokenTimeOut\")),\r\n                offset: 50,\r\n            })\r\n            localStorage.setItem(\"isSignIn\",\"false\")\r\n            localStorage.removeItem(\"token\")\r\n            localStorage.removeItem(\"uuid\")\r\n            localStorage.removeItem(\"uid\")\r\n        }\r\n    } catch {}\r\n}\r\n\r\nconst clickEditUserProfile = () =>\r\n{\r\n    router.push\r\n    ({\r\n        name: 'UserProfileEdit',\r\n        path: '/UserProfileEdit',\r\n    })\r\n}\r\n\r\nloadUserMessage()\r\n</script>\r\n\r\n<style>\r\n@import '@/css/common.css';\r\n\r\n.user-profile-body-div\r\n{\r\n    display: flex;\r\n    align-items: flex-end;\r\n    margin-left: 20px;\r\n}\r\n\r\n.user-profile-details-div\r\n{\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 20px; /* 调整此值以控制文本与头像之间的距离 */\r\n}\r\n\r\n.user-profile-details-username\r\n{\r\n    font-weight: bold;\r\n    font-size: 30px;\r\n}\r\n\r\n.user-profile-details-username-edit-icon\r\n{\r\n    margin-left: 20px;\r\n}\r\n\r\n.user-profile-details-uid\r\n{\r\n    font-weight: bold;\r\n}\r\n\r\n.user-profile-details-mark\r\n{\r\n    margin-top: 20px;\r\n    margin-left: 10px;\r\n}\r\n\r\n.user-profile-details-status\r\n{\r\n    margin: 0px 0px 0px 10px;\r\n}\r\n</style>\r\n","import script from \"./UserProfile.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=2d6009bd&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","__name","setup","__props","router","useRouter","t","i18n","global","avatarUrl","ref","axios","defaults","baseURL","username","userUid","userStatus","mark","loadUserMessage","async","resp","getUserMessage","uuid","localStorage","getItem","value","data","uid","Number","avatar","signCode","ElNotification","title","message","h","style","offset","setItem","removeItem","clickEditUserProfile","push","name","path","_ctx","_cache","_component_el_avatar","_resolveComponent","_component_Edit","_component_el_icon","_component_el_tag","_component_el_divider","_openBlock","_createElementBlock","_createElementVNode","_createVNode","src","size","onClick","$event","_unref","copyText","_toDisplayString","default","_withCtx","_","effect","type","color","getStatusColorCode","_createTextVNode","__exports__"],"sourceRoot":""}