"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[997],{6096:function(e,a,r){r.d(a,{Cb:function(){return u},HE:function(){return i},bH:function(){return n},d3:function(){return d},jS:function(){return s},m4:function(){return c},sC:function(){return o},uz:function(){return l}});var t=r(9470);function n(e){return(0,t.Jt)("/libraryManage/getLibraryCategoryManageDataList",e)}function l(e){return(0,t.Jt)("/library/getLibraryCategoryList",e)}function i(e){return(0,t.bE)("/libraryManage/addOrUpdateLibraryCategory",e)}function u(e){return(0,t.Jt)("/library/getLibraryList",e)}function o(e){return(0,t.Jt)("/library/getLibraryById",e)}function c(e){return(0,t.bE)("/libraryManage/editLibraryData",e)}function d(e){return(0,t.bE)("/libraryManage/addLibrary",e)}function s(e){return(0,t.bE)("/libraryManage/editLibraryMessage",e)}},6997:function(e,a,r){r.r(a),r.d(a,{default:function(){return m}});r(4114);var t=r(6768),n=r(4232),l=r(144),i=r(6096),u=r(1387);const o={class:"common-body-set-width"},c={class:"library-category-item-span"},d={class:"library-category-item-span"},s={class:"library-search-div"},b={class:"library-card-content"},g={class:"library-card-details"},v={class:"library-card-name-text"},y={class:"library-card-tags-div"},p={class:"library-card-tag-text"},f={class:"library-pagination-div"},k="0";var h=(0,t.pM)({__name:"LibraryIndex",setup(e){const a=(0,u.rd)(),r=(0,l.KR)("min-height:"+(window.innerHeight-100)+"px;"),h=(0,l.KR)(!1),L=(0,l.KR)("200px"),m=(0,l.KR)([]),w=(0,l.KR)("0"),_=(0,l.KR)(window.innerHeight-225+"px"),F=(0,l.KR)(),C=(0,l.KR)(1),x=(0,l.KR)(0),M=(0,l.KR)([]),K=async()=>{try{const e=await(0,i.uz)({});m.value=e.data}catch{}},R=async()=>{try{const e={searchInput:F.value,category:w.value,page:C.value},a=await(0,i.Cb)(e);x.value=a.data.total,M.value=a.data.libraryList}catch{}};(0,t.sV)((()=>{K(),R()}));const E=e=>{w.value=e,R()},z=e=>{M.value[e].background="border-width: 5px;"},H=e=>{M.value[e].background=""},I=e=>{a.push({name:"LibraryReader",path:"/LibraryReader",query:{library:M.value[e].id}})},X=()=>{R()},J=()=>{R()},V=()=>{r.value="min-height:"+(window.innerHeight-100)+"px;",window.innerWidth<800?(h.value=!0,L.value="75px"):(h.value=!1,L.value="200px"),S()},S=()=>{_.value=window.innerHeight-225+"px"};return V(),window.addEventListener("resize",V),(e,a)=>{const l=(0,t.g2)("Coin"),i=(0,t.g2)("el-icon"),u=(0,t.g2)("el-menu-item"),w=(0,t.g2)("Menu"),K=(0,t.g2)("el-menu"),R=(0,t.g2)("el-aside"),V=(0,t.g2)("search"),S=(0,t.g2)("el-button"),U=(0,t.g2)("el-input"),W=(0,t.g2)("el-tag"),D=(0,t.g2)("el-card"),T=(0,t.g2)("el-scrollbar"),j=(0,t.g2)("el-pagination"),q=(0,t.g2)("el-main"),B=(0,t.g2)("el-container");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.bF)(B,null,{default:(0,t.k6)((()=>[(0,t.bF)(R,{width:L.value},{default:(0,t.k6)((()=>[(0,t.bF)(K,{style:(0,n.Tr)(r.value),"default-active":k,ellipsis:!1,collapse:h.value,onSelect:E},{default:(0,t.k6)((()=>[(0,t.bF)(u,{index:"0"},{title:(0,t.k6)((()=>[(0,t.Lk)("span",c,(0,n.v_)(e.$t("common.all")),1)])),default:(0,t.k6)((()=>[(0,t.bF)(i,{size:25},{default:(0,t.k6)((()=>[(0,t.bF)(l)])),_:1})])),_:1}),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(m.value,((e,a)=>((0,t.uX)(),(0,t.Wv)(u,{key:a,index:e.id.toString()},{title:(0,t.k6)((()=>[(0,t.Lk)("span",d,(0,n.v_)(e.name),1)])),default:(0,t.k6)((()=>[(0,t.bF)(i,{size:25},{default:(0,t.k6)((()=>[(0,t.bF)(w)])),_:1})])),_:2},1032,["index"])))),128))])),_:1},8,["style","collapse"])])),_:1},8,["width"]),(0,t.bF)(q,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",null,[(0,t.Lk)("div",s,[(0,t.bF)(U,{modelValue:F.value,"onUpdate:modelValue":a[0]||(a[0]=e=>F.value=e),placeholder:"search",clearable:""},{append:(0,t.k6)((()=>[(0,t.bF)(S,{onClick:X},{default:(0,t.k6)((()=>[(0,t.bF)(i,null,{default:(0,t.k6)((()=>[(0,t.bF)(V)])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,t.bF)(T,{height:_.value},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(M.value,((e,a)=>((0,t.uX)(),(0,t.Wv)(D,{key:a,onMouseover:e=>z(a),onMouseleave:e=>H(a),onClick:e=>I(a),style:(0,n.Tr)(e.background),class:"library-card"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",b,[(0,t.Lk)("div",g,[(0,t.Lk)("span",v,(0,n.v_)(e.title),1),(0,t.Lk)("div",y,[(0,t.bF)(W,{class:"library-card-tags",effect:"dark",type:"warning",size:"small"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",p,(0,n.v_)(e.categoryName),1)])),_:2},1024)])])])])),_:2},1032,["onMouseover","onMouseleave","onClick","style"])))),128))])),_:1},8,["height"]),(0,t.Lk)("div",f,[(0,t.bF)(j,{layout:"prev, pager, next","current-page":C.value,"onUpdate:currentPage":a[1]||(a[1]=e=>C.value=e),onCurrentChange:a[2]||(a[2]=e=>J()),"page-size":20,total:x.value,"pager-count":5,background:""},null,8,["current-page","total"])])])])),_:1})])),_:1})])}}});const L=h;var m=L}}]);
//# sourceMappingURL=997.a91577a5.js.map