{"version":3,"file":"js/709.0e831856.js","mappings":"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","sources":["webpack://front/./node_modules/vue-cropper/dist/vue-cropper.es.js","webpack://front/./src/views/user/UserProfileEdit.vue?bffd","webpack://front/./src/views/user/UserProfileEdit.vue","webpack://front/./src/views/user/UserProfileEdit.vue?c2ff"],"sourcesContent":["import { defineComponent as S, openBlock as y, createElementBlock as x, withDirectives as H, createElementVNode as w, normalizeStyle as b, vShow as W, createCommentVNode as O, normalizeClass as I, toDisplayString as X } from \"vue\";\nconst Y = {};\nY.getData = (t) => new Promise((e, i) => {\n  let s = {};\n  L(t).then((r) => {\n    s.arrayBuffer = r;\n    try {\n      s.orientation = N(r);\n    } catch {\n      s.orientation = -1;\n    }\n    e(s);\n  }).catch((r) => {\n    i(r);\n  });\n});\nfunction L(t) {\n  let e = null;\n  return new Promise((i, s) => {\n    if (t.src)\n      if (/^data\\:/i.test(t.src))\n        e = k(t.src), i(e);\n      else if (/^blob\\:/i.test(t.src)) {\n        var r = new FileReader();\n        r.onload = function(h) {\n          e = h.target.result, i(e);\n        }, E(t.src, function(h) {\n          r.readAsArrayBuffer(h);\n        });\n      } else {\n        var o = new XMLHttpRequest();\n        o.onload = function() {\n          if (this.status == 200 || this.status === 0)\n            e = o.response, i(e);\n          else\n            throw \"Could not load image\";\n          o = null;\n        }, o.open(\"GET\", t.src, !0), o.responseType = \"arraybuffer\", o.send(null);\n      }\n    else\n      s(\"img error\");\n  });\n}\nfunction E(t, e) {\n  var i = new XMLHttpRequest();\n  i.open(\"GET\", t, !0), i.responseType = \"blob\", i.onload = function(s) {\n    (this.status == 200 || this.status === 0) && e(this.response);\n  }, i.send();\n}\nfunction k(t, e) {\n  e = e || t.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || \"\", t = t.replace(/^data\\:([^\\;]+)\\;base64,/gmi, \"\");\n  for (var i = atob(t), s = i.length % 2 == 0 ? i.length : i.length + 1, r = new ArrayBuffer(s), o = new Uint16Array(r), h = 0; h < s; h++)\n    o[h] = i.charCodeAt(h);\n  return r;\n}\nfunction T(t, e, i) {\n  var s = \"\", r;\n  for (r = e, i += e; r < i; r++)\n    s += String.fromCharCode(t.getUint8(r));\n  return s;\n}\nfunction N(t) {\n  var e = new DataView(t), i = e.byteLength, s, r, o, h, a, n, c, l, f, p;\n  if (e.getUint8(0) === 255 && e.getUint8(1) === 216)\n    for (f = 2; f < i; ) {\n      if (e.getUint8(f) === 255 && e.getUint8(f + 1) === 225) {\n        c = f;\n        break;\n      }\n      f++;\n    }\n  if (c && (r = c + 4, o = c + 10, T(e, r, 4) === \"Exif\" && (n = e.getUint16(o), a = n === 18761, (a || n === 19789) && e.getUint16(o + 2, a) === 42 && (h = e.getUint32(o + 4, a), h >= 8 && (l = o + h)))), l) {\n    for (i = e.getUint16(l, a), p = 0; p < i; p++)\n      if (f = l + p * 12 + 2, e.getUint16(f, a) === 274) {\n        f += 8, s = e.getUint16(f, a);\n        break;\n      }\n  }\n  return s;\n}\nconst $ = (t, e) => {\n  const i = t.__vccOpts || t;\n  for (const [s, r] of e)\n    i[s] = r;\n  return i;\n}, z = S({\n  data: function() {\n    return {\n      // 容器高宽\n      w: 0,\n      h: 0,\n      // 图片缩放比例\n      scale: 1,\n      // 图片偏移x轴\n      x: 0,\n      // 图片偏移y轴\n      y: 0,\n      // 图片加载\n      loading: !0,\n      // 图片真实宽度\n      trueWidth: 0,\n      // 图片真实高度\n      trueHeight: 0,\n      move: !0,\n      // 移动的x\n      moveX: 0,\n      // 移动的y\n      moveY: 0,\n      // 开启截图\n      crop: !1,\n      // 正在截图\n      cropping: !1,\n      // 裁剪框大小\n      cropW: 0,\n      cropH: 0,\n      cropOldW: 0,\n      cropOldH: 0,\n      // 判断是否能够改变\n      canChangeX: !1,\n      canChangeY: !1,\n      // 改变的基准点\n      changeCropTypeX: 1,\n      changeCropTypeY: 1,\n      // 裁剪框的坐标轴\n      cropX: 0,\n      cropY: 0,\n      cropChangeX: 0,\n      cropChangeY: 0,\n      cropOffsertX: 0,\n      cropOffsertY: 0,\n      // 支持的滚动事件\n      support: \"\",\n      // 移动端手指缩放\n      touches: [],\n      touchNow: !1,\n      // 图片旋转\n      rotate: 0,\n      isIos: !1,\n      orientation: 0,\n      imgs: \"\",\n      // 图片缩放系数\n      coe: 0.2,\n      // 是否正在多次缩放\n      scaling: !1,\n      scalingSet: \"\",\n      coeStatus: \"\",\n      // 控制emit触发频率\n      isCanShow: !0,\n      // 图片是否等于截图大小\n      imgIsQqualCrop: !1\n    };\n  },\n  props: {\n    img: {\n      type: [String, Blob, null, File],\n      default: \"\"\n    },\n    // 输出图片压缩比\n    outputSize: {\n      type: Number,\n      default: 1\n    },\n    outputType: {\n      type: String,\n      default: \"jpeg\"\n    },\n    info: {\n      type: Boolean,\n      default: !0\n    },\n    // 是否开启滚轮放大缩小\n    canScale: {\n      type: Boolean,\n      default: !0\n    },\n    // 是否自成截图框\n    autoCrop: {\n      type: Boolean,\n      default: !1\n    },\n    autoCropWidth: {\n      type: [Number, String],\n      default: 0\n    },\n    autoCropHeight: {\n      type: [Number, String],\n      default: 0\n    },\n    // 是否开启固定宽高比\n    fixed: {\n      type: Boolean,\n      default: !1\n    },\n    // 宽高比 w/h\n    fixedNumber: {\n      type: Array,\n      default: () => [1, 1]\n    },\n    // 固定大小 禁止改变截图框大小\n    fixedBox: {\n      type: Boolean,\n      default: !1\n    },\n    // 输出截图是否缩放\n    full: {\n      type: Boolean,\n      default: !1\n    },\n    // 是否可以拖动图片\n    canMove: {\n      type: Boolean,\n      default: !0\n    },\n    // 是否可以拖动截图框\n    canMoveBox: {\n      type: Boolean,\n      default: !0\n    },\n    // 上传图片按照原始比例显示\n    original: {\n      type: Boolean,\n      default: !1\n    },\n    // 截图框能否超过图片\n    centerBox: {\n      type: Boolean,\n      default: !1\n    },\n    // 是否根据dpr输出高清图片\n    high: {\n      type: Boolean,\n      default: !0\n    },\n    // 截图框展示宽高类型\n    infoTrue: {\n      type: Boolean,\n      default: !1\n    },\n    // 可以压缩图片宽高  默认不超过200\n    maxImgSize: {\n      type: [Number, String],\n      default: 2e3\n    },\n    // 倍数  可渲染当前截图框的n倍 0 - 1000;\n    enlarge: {\n      type: [Number, String],\n      default: 1\n    },\n    // 自动预览的固定宽度\n    preW: {\n      type: [Number, String],\n      default: 0\n    },\n    /*\n      图片布局方式 mode 实现和css背景一样的效果\n      contain  居中布局 默认不会缩放 保证图片在容器里面 mode: 'contain'\n      cover    拉伸布局 填充整个容器  mode: 'cover'\n      如果仅有一个数值被给定，这个数值将作为宽度值大小，高度值将被设定为auto。 mode: '50px'\n      如果有两个数值被给定，第一个将作为宽度值大小，第二个作为高度值大小。 mode: '50px 60px'\n    */\n    mode: {\n      type: String,\n      default: \"contain\"\n    },\n    //限制最小区域,可传1以上的数字和字符串，限制长宽都是这么大\n    // 也可以传数组[90,90] \n    limitMinSize: {\n      type: [Number, Array, String],\n      default: () => 10,\n      validator: function(t) {\n        return Array.isArray(t) ? Number(t[0]) >= 0 && Number(t[1]) >= 0 : Number(t) >= 0;\n      }\n    },\n    // 导出时,填充背景颜色\n    fillColor: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    cropInfo() {\n      let t = {};\n      if (t.top = this.cropOffsertY > 21 ? \"-21px\" : \"0px\", t.width = this.cropW > 0 ? this.cropW : 0, t.height = this.cropH > 0 ? this.cropH : 0, this.infoTrue) {\n        let e = 1;\n        this.high && !this.full && (e = window.devicePixelRatio), this.enlarge !== 1 & !this.full && (e = Math.abs(Number(this.enlarge))), t.width = t.width * e, t.height = t.height * e, this.full && (t.width = t.width / this.scale, t.height = t.height / this.scale);\n      }\n      return t.width = t.width.toFixed(0), t.height = t.height.toFixed(0), t;\n    },\n    isIE() {\n      return !!window.ActiveXObject || \"ActiveXObject\" in window;\n    },\n    passive() {\n      return this.isIE ? null : {\n        passive: !1\n      };\n    },\n    // 是否处于左右旋转\n    isRotateRightOrLeft() {\n      return [1, -1, 3, -3].includes(this.rotate);\n    }\n  },\n  watch: {\n    // 如果图片改变， 重新布局\n    img() {\n      this.checkedImg();\n    },\n    imgs(t) {\n      t !== \"\" && this.reload();\n    },\n    cropW() {\n      this.showPreview();\n    },\n    cropH() {\n      this.showPreview();\n    },\n    cropOffsertX() {\n      this.showPreview();\n    },\n    cropOffsertY() {\n      this.showPreview();\n    },\n    scale(t, e) {\n      this.showPreview();\n    },\n    x() {\n      this.showPreview();\n    },\n    y() {\n      this.showPreview();\n    },\n    autoCrop(t) {\n      t && this.goAutoCrop();\n    },\n    // 修改了自动截图框\n    autoCropWidth() {\n      this.autoCrop && this.goAutoCrop();\n    },\n    autoCropHeight() {\n      this.autoCrop && this.goAutoCrop();\n    },\n    mode() {\n      this.checkedImg();\n    },\n    rotate() {\n      this.showPreview(), this.autoCrop ? this.goAutoCrop(this.cropW, this.cropH) : (this.cropW > 0 || this.cropH > 0) && this.goAutoCrop(this.cropW, this.cropH);\n    }\n  },\n  methods: {\n    getVersion(t) {\n      var e = navigator.userAgent.split(\" \"), i = \"\";\n      let s = 0;\n      const r = new RegExp(t, \"i\");\n      for (var o = 0; o < e.length; o++)\n        r.test(e[o]) && (i = e[o]);\n      return i ? s = i.split(\"/\")[1].split(\".\") : s = [\"0\", \"0\", \"0\"], s;\n    },\n    checkOrientationImage(t, e, i, s) {\n      if (this.getVersion(\"chrome\")[0] >= 81)\n        e = -1;\n      else if (this.getVersion(\"safari\")[0] >= 605) {\n        const h = this.getVersion(\"version\");\n        h[0] > 13 && h[1] > 1 && (e = -1);\n      } else {\n        const h = navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);\n        if (h) {\n          let a = h[1];\n          a = a.split(\"_\"), (a[0] > 13 || a[0] >= 13 && a[1] >= 4) && (e = -1);\n        }\n      }\n      let r = document.createElement(\"canvas\"), o = r.getContext(\"2d\");\n      switch (o.save(), e) {\n        case 2:\n          r.width = i, r.height = s, o.translate(i, 0), o.scale(-1, 1);\n          break;\n        case 3:\n          r.width = i, r.height = s, o.translate(i / 2, s / 2), o.rotate(180 * Math.PI / 180), o.translate(-i / 2, -s / 2);\n          break;\n        case 4:\n          r.width = i, r.height = s, o.translate(0, s), o.scale(1, -1);\n          break;\n        case 5:\n          r.height = i, r.width = s, o.rotate(0.5 * Math.PI), o.scale(1, -1);\n          break;\n        case 6:\n          r.width = s, r.height = i, o.translate(s / 2, i / 2), o.rotate(90 * Math.PI / 180), o.translate(-i / 2, -s / 2);\n          break;\n        case 7:\n          r.height = i, r.width = s, o.rotate(0.5 * Math.PI), o.translate(i, -s), o.scale(-1, 1);\n          break;\n        case 8:\n          r.height = i, r.width = s, o.translate(s / 2, i / 2), o.rotate(-90 * Math.PI / 180), o.translate(-i / 2, -s / 2);\n          break;\n        default:\n          r.width = i, r.height = s;\n      }\n      o.drawImage(t, 0, 0, i, s), o.restore(), r.toBlob(\n        (h) => {\n          let a = URL.createObjectURL(h);\n          URL.revokeObjectURL(this.imgs), this.imgs = a;\n        },\n        \"image/\" + this.outputType,\n        1\n      );\n    },\n    // checkout img\n    checkedImg() {\n      if (this.img === null || this.img === \"\") {\n        this.imgs = \"\", this.clearCrop();\n        return;\n      }\n      this.loading = !0, this.scale = 1, this.rotate = 0, this.imgIsQqualCrop = !1, this.clearCrop();\n      let t = new Image();\n      if (t.onload = () => {\n        if (this.img === \"\")\n          return this.$emit(\"img-load\", new Error(\"图片不能为空\")), !1;\n        let i = t.width, s = t.height;\n        Y.getData(t).then((r) => {\n          this.orientation = r.orientation || 1;\n          let o = Number(this.maxImgSize);\n          if (!this.orientation && i < o & s < o) {\n            this.imgs = this.img;\n            return;\n          }\n          i > o && (s = s / i * o, i = o), s > o && (i = i / s * o, s = o), this.checkOrientationImage(t, this.orientation, i, s);\n        }).catch((r) => {\n          this.$emit(\"img-load\", \"error\"), this.$emit(\"img-load-error\", r);\n        });\n      }, t.onerror = (i) => {\n        this.$emit(\"img-load\", \"error\"), this.$emit(\"img-load-error\", i);\n      }, this.img.substr(0, 4) !== \"data\" && (t.crossOrigin = \"\"), this.isIE) {\n        var e = new XMLHttpRequest();\n        e.onload = function() {\n          var i = URL.createObjectURL(this.response);\n          t.src = i;\n        }, e.open(\"GET\", this.img, !0), e.responseType = \"blob\", e.send();\n      } else\n        t.src = this.img;\n    },\n    // 当按下鼠标键\n    startMove(t) {\n      if (t.preventDefault(), this.move && !this.crop) {\n        if (!this.canMove)\n          return !1;\n        this.moveX = (\"clientX\" in t ? t.clientX : t.touches[0].clientX) - this.x, this.moveY = (\"clientY\" in t ? t.clientY : t.touches[0].clientY) - this.y, t.touches ? (window.addEventListener(\"touchmove\", this.moveImg), window.addEventListener(\"touchend\", this.leaveImg), t.touches.length == 2 && (this.touches = t.touches, window.addEventListener(\"touchmove\", this.touchScale), window.addEventListener(\"touchend\", this.cancelTouchScale))) : (window.addEventListener(\"mousemove\", this.moveImg), window.addEventListener(\"mouseup\", this.leaveImg)), this.$emit(\"img-moving\", {\n          moving: !0,\n          axis: this.getImgAxis()\n        });\n      } else\n        this.cropping = !0, window.addEventListener(\"mousemove\", this.createCrop), window.addEventListener(\"mouseup\", this.endCrop), window.addEventListener(\"touchmove\", this.createCrop), window.addEventListener(\"touchend\", this.endCrop), this.cropOffsertX = t.offsetX ? t.offsetX : t.touches[0].pageX - this.$refs.cropper.offsetLeft, this.cropOffsertY = t.offsetY ? t.offsetY : t.touches[0].pageY - this.$refs.cropper.offsetTop, this.cropX = \"clientX\" in t ? t.clientX : t.touches[0].clientX, this.cropY = \"clientY\" in t ? t.clientY : t.touches[0].clientY, this.cropChangeX = this.cropOffsertX, this.cropChangeY = this.cropOffsertY, this.cropW = 0, this.cropH = 0;\n    },\n    // 移动端缩放\n    touchScale(t) {\n      t.preventDefault();\n      let e = this.scale;\n      var i = {\n        x: this.touches[0].clientX,\n        y: this.touches[0].clientY\n      }, s = {\n        x: t.touches[0].clientX,\n        y: t.touches[0].clientY\n      }, r = {\n        x: this.touches[1].clientX,\n        y: this.touches[1].clientY\n      }, o = {\n        x: t.touches[1].clientX,\n        y: t.touches[1].clientY\n      }, h = Math.sqrt(\n        Math.pow(i.x - r.x, 2) + Math.pow(i.y - r.y, 2)\n      ), a = Math.sqrt(\n        Math.pow(s.x - o.x, 2) + Math.pow(s.y - o.y, 2)\n      ), n = a - h, c = 1;\n      c = c / this.trueWidth > c / this.trueHeight ? c / this.trueHeight : c / this.trueWidth, c = c > 0.1 ? 0.1 : c;\n      var l = c * n;\n      if (!this.touchNow) {\n        if (this.touchNow = !0, n > 0 ? e += Math.abs(l) : n < 0 && e > Math.abs(l) && (e -= Math.abs(l)), this.touches = t.touches, setTimeout(() => {\n          this.touchNow = !1;\n        }, 8), !this.checkoutImgAxis(this.x, this.y, e))\n          return !1;\n        this.scale = e;\n      }\n    },\n    cancelTouchScale(t) {\n      window.removeEventListener(\"touchmove\", this.touchScale);\n    },\n    // 移动图片\n    moveImg(t) {\n      if (t.preventDefault(), t.touches && t.touches.length === 2)\n        return this.touches = t.touches, window.addEventListener(\"touchmove\", this.touchScale), window.addEventListener(\"touchend\", this.cancelTouchScale), window.removeEventListener(\"touchmove\", this.moveImg), !1;\n      let e = \"clientX\" in t ? t.clientX : t.touches[0].clientX, i = \"clientY\" in t ? t.clientY : t.touches[0].clientY, s, r;\n      s = e - this.moveX, r = i - this.moveY, this.$nextTick(() => {\n        if (this.centerBox) {\n          let o = this.getImgAxis(s, r, this.scale), h = this.getCropAxis(), a = this.trueHeight * this.scale, n = this.trueWidth * this.scale, c, l, f, p;\n          switch (this.rotate) {\n            case 1:\n            case -1:\n            case 3:\n            case -3:\n              c = this.cropOffsertX - this.trueWidth * (1 - this.scale) / 2 + (a - n) / 2, l = this.cropOffsertY - this.trueHeight * (1 - this.scale) / 2 + (n - a) / 2, f = c - a + this.cropW, p = l - n + this.cropH;\n              break;\n            default:\n              c = this.cropOffsertX - this.trueWidth * (1 - this.scale) / 2, l = this.cropOffsertY - this.trueHeight * (1 - this.scale) / 2, f = c - n + this.cropW, p = l - a + this.cropH;\n              break;\n          }\n          o.x1 >= h.x1 && (s = c), o.y1 >= h.y1 && (r = l), o.x2 <= h.x2 && (s = f), o.y2 <= h.y2 && (r = p);\n        }\n        this.x = s, this.y = r, this.$emit(\"img-moving\", {\n          moving: !0,\n          axis: this.getImgAxis()\n        });\n      });\n    },\n    // 移动图片结束\n    leaveImg(t) {\n      window.removeEventListener(\"mousemove\", this.moveImg), window.removeEventListener(\"touchmove\", this.moveImg), window.removeEventListener(\"mouseup\", this.leaveImg), window.removeEventListener(\"touchend\", this.leaveImg), this.$emit(\"img-moving\", {\n        moving: !1,\n        axis: this.getImgAxis()\n      });\n    },\n    // 缩放图片\n    scaleImg() {\n      this.canScale && window.addEventListener(this.support, this.changeSize, this.passive);\n    },\n    // 移出框\n    cancelScale() {\n      this.canScale && window.removeEventListener(this.support, this.changeSize);\n    },\n    // 改变大小函数\n    changeSize(t) {\n      t.preventDefault();\n      let e = this.scale;\n      var i = t.deltaY || t.wheelDelta, s = navigator.userAgent.indexOf(\"Firefox\");\n      i = s > 0 ? i * 30 : i, this.isIE && (i = -i);\n      var r = this.coe;\n      r = r / this.trueWidth > r / this.trueHeight ? r / this.trueHeight : r / this.trueWidth;\n      var o = r * i;\n      o < 0 ? e += Math.abs(o) : e > Math.abs(o) && (e -= Math.abs(o));\n      let h = o < 0 ? \"add\" : \"reduce\";\n      if (h !== this.coeStatus && (this.coeStatus = h, this.coe = 0.2), this.scaling || (this.scalingSet = setTimeout(() => {\n        this.scaling = !1, this.coe = this.coe += 0.01;\n      }, 50)), this.scaling = !0, !this.checkoutImgAxis(this.x, this.y, e))\n        return !1;\n      this.scale = e;\n    },\n    // 修改图片大小函数\n    changeScale(t) {\n      let e = this.scale;\n      t = t || 1;\n      var i = 20;\n      if (i = i / this.trueWidth > i / this.trueHeight ? i / this.trueHeight : i / this.trueWidth, t = t * i, t > 0 ? e += Math.abs(t) : e > Math.abs(t) && (e -= Math.abs(t)), !this.checkoutImgAxis(this.x, this.y, e))\n        return !1;\n      this.scale = e;\n    },\n    // 创建截图框\n    createCrop(t) {\n      t.preventDefault();\n      var e = \"clientX\" in t ? t.clientX : t.touches ? t.touches[0].clientX : 0, i = \"clientY\" in t ? t.clientY : t.touches ? t.touches[0].clientY : 0;\n      this.$nextTick(() => {\n        var s = e - this.cropX, r = i - this.cropY;\n        if (s > 0 ? (this.cropW = s + this.cropChangeX > this.w ? this.w - this.cropChangeX : s, this.cropOffsertX = this.cropChangeX) : (this.cropW = this.w - this.cropChangeX + Math.abs(s) > this.w ? this.cropChangeX : Math.abs(s), this.cropOffsertX = this.cropChangeX + s > 0 ? this.cropChangeX + s : 0), !this.fixed)\n          r > 0 ? (this.cropH = r + this.cropChangeY > this.h ? this.h - this.cropChangeY : r, this.cropOffsertY = this.cropChangeY) : (this.cropH = this.h - this.cropChangeY + Math.abs(r) > this.h ? this.cropChangeY : Math.abs(r), this.cropOffsertY = this.cropChangeY + r > 0 ? this.cropChangeY + r : 0);\n        else {\n          var o = this.cropW / this.fixedNumber[0] * this.fixedNumber[1];\n          o + this.cropOffsertY > this.h ? (this.cropH = this.h - this.cropOffsertY, this.cropW = this.cropH / this.fixedNumber[1] * this.fixedNumber[0], s > 0 ? this.cropOffsertX = this.cropChangeX : this.cropOffsertX = this.cropChangeX - this.cropW) : this.cropH = o, this.cropOffsertY = this.cropOffsertY;\n        }\n      });\n    },\n    // 改变截图框大小\n    changeCropSize(t, e, i, s, r) {\n      t.preventDefault(), window.addEventListener(\"mousemove\", this.changeCropNow), window.addEventListener(\"mouseup\", this.changeCropEnd), window.addEventListener(\"touchmove\", this.changeCropNow), window.addEventListener(\"touchend\", this.changeCropEnd), this.canChangeX = e, this.canChangeY = i, this.changeCropTypeX = s, this.changeCropTypeY = r, this.cropX = \"clientX\" in t ? t.clientX : t.touches[0].clientX, this.cropY = \"clientY\" in t ? t.clientY : t.touches[0].clientY, this.cropOldW = this.cropW, this.cropOldH = this.cropH, this.cropChangeX = this.cropOffsertX, this.cropChangeY = this.cropOffsertY, this.fixed && this.canChangeX && this.canChangeY && (this.canChangeY = 0), this.$emit(\"change-crop-size\", {\n        width: this.cropW,\n        height: this.cropH\n      });\n    },\n    // 正在改变\n    changeCropNow(t) {\n      t.preventDefault();\n      var e = \"clientX\" in t ? t.clientX : t.touches ? t.touches[0].clientX : 0, i = \"clientY\" in t ? t.clientY : t.touches ? t.touches[0].clientY : 0;\n      let s = this.w, r = this.h, o = 0, h = 0;\n      if (this.centerBox) {\n        let c = this.getImgAxis(), l = c.x2, f = c.y2;\n        o = c.x1 > 0 ? c.x1 : 0, h = c.y1 > 0 ? c.y1 : 0, s > l && (s = l), r > f && (r = f);\n      }\n      const [a, n] = this.checkCropLimitSize();\n      this.$nextTick(() => {\n        var c = e - this.cropX, l = i - this.cropY;\n        if (this.canChangeX && (this.changeCropTypeX === 1 ? this.cropOldW - c < a ? (this.cropW = a, this.cropOffsertX = this.cropOldW + this.cropChangeX - o - a) : this.cropOldW - c > 0 ? (this.cropW = s - this.cropChangeX - c <= s - o ? this.cropOldW - c : this.cropOldW + this.cropChangeX - o, this.cropOffsertX = s - this.cropChangeX - c <= s - o ? this.cropChangeX + c : o) : (this.cropW = Math.abs(c) + this.cropChangeX <= s ? Math.abs(c) - this.cropOldW : s - this.cropOldW - this.cropChangeX, this.cropOffsertX = this.cropChangeX + this.cropOldW) : this.changeCropTypeX === 2 && (this.cropOldW + c < a ? this.cropW = a : this.cropOldW + c > 0 ? (this.cropW = this.cropOldW + c + this.cropOffsertX <= s ? this.cropOldW + c : s - this.cropOffsertX, this.cropOffsertX = this.cropChangeX) : (this.cropW = s - this.cropChangeX + Math.abs(c + this.cropOldW) <= s - o ? Math.abs(c + this.cropOldW) : this.cropChangeX - o, this.cropOffsertX = s - this.cropChangeX + Math.abs(c + this.cropOldW) <= s - o ? this.cropChangeX - Math.abs(c + this.cropOldW) : o))), this.canChangeY && (this.changeCropTypeY === 1 ? this.cropOldH - l < n ? (this.cropH = n, this.cropOffsertY = this.cropOldH + this.cropChangeY - h - n) : this.cropOldH - l > 0 ? (this.cropH = r - this.cropChangeY - l <= r - h ? this.cropOldH - l : this.cropOldH + this.cropChangeY - h, this.cropOffsertY = r - this.cropChangeY - l <= r - h ? this.cropChangeY + l : h) : (this.cropH = Math.abs(l) + this.cropChangeY <= r ? Math.abs(l) - this.cropOldH : r - this.cropOldH - this.cropChangeY, this.cropOffsertY = this.cropChangeY + this.cropOldH) : this.changeCropTypeY === 2 && (this.cropOldH + l < n ? this.cropH = n : this.cropOldH + l > 0 ? (this.cropH = this.cropOldH + l + this.cropOffsertY <= r ? this.cropOldH + l : r - this.cropOffsertY, this.cropOffsertY = this.cropChangeY) : (this.cropH = r - this.cropChangeY + Math.abs(l + this.cropOldH) <= r - h ? Math.abs(l + this.cropOldH) : this.cropChangeY - h, this.cropOffsertY = r - this.cropChangeY + Math.abs(l + this.cropOldH) <= r - h ? this.cropChangeY - Math.abs(l + this.cropOldH) : h))), this.canChangeX && this.fixed) {\n          var f = this.cropW / this.fixedNumber[0] * this.fixedNumber[1];\n          f < n ? (this.cropH = n, this.cropW = this.fixedNumber[0] * n / this.fixedNumber[1], this.changeCropTypeX === 1 && (this.cropOffsertX = this.cropChangeX + (this.cropOldW - this.cropW))) : f + this.cropOffsertY > r ? (this.cropH = r - this.cropOffsertY, this.cropW = this.cropH / this.fixedNumber[1] * this.fixedNumber[0], this.changeCropTypeX === 1 && (this.cropOffsertX = this.cropChangeX + (this.cropOldW - this.cropW))) : this.cropH = f;\n        }\n        if (this.canChangeY && this.fixed) {\n          var p = this.cropH / this.fixedNumber[1] * this.fixedNumber[0];\n          p < a ? (this.cropW = a, this.cropH = this.fixedNumber[1] * a / this.fixedNumber[0], this.cropOffsertY = this.cropOldH + this.cropChangeY - this.cropH) : p + this.cropOffsertX > s ? (this.cropW = s - this.cropOffsertX, this.cropH = this.cropW / this.fixedNumber[0] * this.fixedNumber[1]) : this.cropW = p;\n        }\n      });\n    },\n    checkCropLimitSize() {\n      let { cropW: t, cropH: e, limitMinSize: i } = this, s = new Array();\n      return Array.isArray(i) ? s = i : s = [i, i], t = parseFloat(s[0]), e = parseFloat(s[1]), [t, e];\n    },\n    // 结束改变\n    changeCropEnd(t) {\n      window.removeEventListener(\"mousemove\", this.changeCropNow), window.removeEventListener(\"mouseup\", this.changeCropEnd), window.removeEventListener(\"touchmove\", this.changeCropNow), window.removeEventListener(\"touchend\", this.changeCropEnd);\n    },\n    // 根据比例x/y，最小宽度，最小高度，现有宽度，现有高度，得到应该有的宽度和高度\n    calculateSize(t, e, i, s, r, o) {\n      const h = t / e;\n      let a = r, n = o;\n      return a < i && (a = i, n = Math.ceil(a / h)), n < s && (n = s, a = Math.ceil(n * h), a < i && (a = i, n = Math.ceil(a / h))), a < r && (a = r, n = Math.ceil(a / h)), n < o && (n = o, a = Math.ceil(n * h)), { width: a, height: n };\n    },\n    // 创建完成\n    endCrop() {\n      this.cropW === 0 && this.cropH === 0 && (this.cropping = !1);\n      let [t, e] = this.checkCropLimitSize();\n      const { width: i, height: s } = this.fixed ? this.calculateSize(\n        this.fixedNumber[0],\n        this.fixedNumber[1],\n        t,\n        e,\n        this.cropW,\n        this.cropH\n      ) : { width: t, height: e };\n      i > this.cropW && (this.cropW = i, this.cropOffsertX + i > this.w && (this.cropOffsertX = this.w - i)), s > this.cropH && (this.cropH = s, this.cropOffsertY + s > this.h && (this.cropOffsertY = this.h - s)), window.removeEventListener(\"mousemove\", this.createCrop), window.removeEventListener(\"mouseup\", this.endCrop), window.removeEventListener(\"touchmove\", this.createCrop), window.removeEventListener(\"touchend\", this.endCrop);\n    },\n    // 开始截图\n    startCrop() {\n      this.crop = !0;\n    },\n    // 停止截图\n    stopCrop() {\n      this.crop = !1;\n    },\n    // 清除截图\n    clearCrop() {\n      this.cropping = !1, this.cropW = 0, this.cropH = 0;\n    },\n    // 截图移动\n    cropMove(t) {\n      if (t.preventDefault(), !this.canMoveBox)\n        return this.crop = !1, this.startMove(t), !1;\n      if (t.touches && t.touches.length === 2)\n        return this.crop = !1, this.startMove(t), this.leaveCrop(), !1;\n      window.addEventListener(\"mousemove\", this.moveCrop), window.addEventListener(\"mouseup\", this.leaveCrop), window.addEventListener(\"touchmove\", this.moveCrop), window.addEventListener(\"touchend\", this.leaveCrop);\n      let e = \"clientX\" in t ? t.clientX : t.touches[0].clientX, i = \"clientY\" in t ? t.clientY : t.touches[0].clientY, s, r;\n      s = e - this.cropOffsertX, r = i - this.cropOffsertY, this.cropX = s, this.cropY = r, this.$emit(\"crop-moving\", {\n        moving: !0,\n        axis: this.getCropAxis()\n      });\n    },\n    moveCrop(t, e) {\n      let i = 0, s = 0;\n      t && (t.preventDefault(), i = \"clientX\" in t ? t.clientX : t.touches[0].clientX, s = \"clientY\" in t ? t.clientY : t.touches[0].clientY), this.$nextTick(() => {\n        let r, o, h = i - this.cropX, a = s - this.cropY;\n        if (e && (h = this.cropOffsertX, a = this.cropOffsertY), h <= 0 ? r = 0 : h + this.cropW > this.w ? r = this.w - this.cropW : r = h, a <= 0 ? o = 0 : a + this.cropH > this.h ? o = this.h - this.cropH : o = a, this.centerBox) {\n          let n = this.getImgAxis();\n          r <= n.x1 && (r = n.x1), r + this.cropW > n.x2 && (r = n.x2 - this.cropW), o <= n.y1 && (o = n.y1), o + this.cropH > n.y2 && (o = n.y2 - this.cropH);\n        }\n        this.cropOffsertX = r, this.cropOffsertY = o, this.$emit(\"crop-moving\", {\n          moving: !0,\n          axis: this.getCropAxis()\n        });\n      });\n    },\n    // 算出不同场景下面 图片相对于外层容器的坐标轴\n    getImgAxis(t, e, i) {\n      t = t || this.x, e = e || this.y, i = i || this.scale;\n      let s = {\n        x1: 0,\n        x2: 0,\n        y1: 0,\n        y2: 0\n      }, r = this.trueWidth * i, o = this.trueHeight * i;\n      switch (this.rotate) {\n        case 0:\n          s.x1 = t + this.trueWidth * (1 - i) / 2, s.x2 = s.x1 + this.trueWidth * i, s.y1 = e + this.trueHeight * (1 - i) / 2, s.y2 = s.y1 + this.trueHeight * i;\n          break;\n        case 1:\n        case -1:\n        case 3:\n        case -3:\n          s.x1 = t + this.trueWidth * (1 - i) / 2 + (r - o) / 2, s.x2 = s.x1 + this.trueHeight * i, s.y1 = e + this.trueHeight * (1 - i) / 2 + (o - r) / 2, s.y2 = s.y1 + this.trueWidth * i;\n          break;\n        default:\n          s.x1 = t + this.trueWidth * (1 - i) / 2, s.x2 = s.x1 + this.trueWidth * i, s.y1 = e + this.trueHeight * (1 - i) / 2, s.y2 = s.y1 + this.trueHeight * i;\n          break;\n      }\n      return s;\n    },\n    // 获取截图框的坐标轴\n    getCropAxis() {\n      let t = {\n        x1: 0,\n        x2: 0,\n        y1: 0,\n        y2: 0\n      };\n      return t.x1 = this.cropOffsertX, t.x2 = t.x1 + this.cropW, t.y1 = this.cropOffsertY, t.y2 = t.y1 + this.cropH, t;\n    },\n    leaveCrop(t) {\n      window.removeEventListener(\"mousemove\", this.moveCrop), window.removeEventListener(\"mouseup\", this.leaveCrop), window.removeEventListener(\"touchmove\", this.moveCrop), window.removeEventListener(\"touchend\", this.leaveCrop), this.$emit(\"crop-moving\", {\n        moving: !1,\n        axis: this.getCropAxis()\n      });\n    },\n    getCropChecked(t) {\n      let e = document.createElement(\"canvas\"), i = e.getContext(\"2d\"), s = new Image(), r = this.rotate, o = this.trueWidth, h = this.trueHeight, a = this.cropOffsertX, n = this.cropOffsertY;\n      s.onload = () => {\n        if (this.cropW !== 0) {\n          let p = 1;\n          this.high & !this.full && (p = window.devicePixelRatio), this.enlarge !== 1 & !this.full && (p = Math.abs(Number(this.enlarge)));\n          let d = this.cropW * p, C = this.cropH * p, u = o * this.scale * p, g = h * this.scale * p, m = (this.x - a + this.trueWidth * (1 - this.scale) / 2) * p, v = (this.y - n + this.trueHeight * (1 - this.scale) / 2) * p;\n          switch (f(d, C), i.save(), r) {\n            case 0:\n              this.full ? (f(d / this.scale, C / this.scale), i.drawImage(\n                s,\n                m / this.scale,\n                v / this.scale,\n                u / this.scale,\n                g / this.scale\n              )) : i.drawImage(s, m, v, u, g);\n              break;\n            case 1:\n            case -3:\n              this.full ? (f(d / this.scale, C / this.scale), m = m / this.scale + (u / this.scale - g / this.scale) / 2, v = v / this.scale + (g / this.scale - u / this.scale) / 2, i.rotate(r * 90 * Math.PI / 180), i.drawImage(\n                s,\n                v,\n                -m - g / this.scale,\n                u / this.scale,\n                g / this.scale\n              )) : (m = m + (u - g) / 2, v = v + (g - u) / 2, i.rotate(r * 90 * Math.PI / 180), i.drawImage(s, v, -m - g, u, g));\n              break;\n            case 2:\n            case -2:\n              this.full ? (f(d / this.scale, C / this.scale), i.rotate(r * 90 * Math.PI / 180), m = m / this.scale, v = v / this.scale, i.drawImage(\n                s,\n                -m - u / this.scale,\n                -v - g / this.scale,\n                u / this.scale,\n                g / this.scale\n              )) : (i.rotate(r * 90 * Math.PI / 180), i.drawImage(s, -m - u, -v - g, u, g));\n              break;\n            case 3:\n            case -1:\n              this.full ? (f(d / this.scale, C / this.scale), m = m / this.scale + (u / this.scale - g / this.scale) / 2, v = v / this.scale + (g / this.scale - u / this.scale) / 2, i.rotate(r * 90 * Math.PI / 180), i.drawImage(\n                s,\n                -v - u / this.scale,\n                m,\n                u / this.scale,\n                g / this.scale\n              )) : (m = m + (u - g) / 2, v = v + (g - u) / 2, i.rotate(r * 90 * Math.PI / 180), i.drawImage(s, -v - u, m, u, g));\n              break;\n            default:\n              this.full ? (f(d / this.scale, C / this.scale), i.drawImage(\n                s,\n                m / this.scale,\n                v / this.scale,\n                u / this.scale,\n                g / this.scale\n              )) : i.drawImage(s, m, v, u, g);\n          }\n          i.restore();\n        } else {\n          let p = o * this.scale, d = h * this.scale;\n          switch (i.save(), r) {\n            case 0:\n              f(p, d), i.drawImage(s, 0, 0, p, d);\n              break;\n            case 1:\n            case -3:\n              f(d, p), i.rotate(r * 90 * Math.PI / 180), i.drawImage(s, 0, -d, p, d);\n              break;\n            case 2:\n            case -2:\n              f(p, d), i.rotate(r * 90 * Math.PI / 180), i.drawImage(s, -p, -d, p, d);\n              break;\n            case 3:\n            case -1:\n              f(d, p), i.rotate(r * 90 * Math.PI / 180), i.drawImage(s, -p, 0, p, d);\n              break;\n            default:\n              f(p, d), i.drawImage(s, 0, 0, p, d);\n          }\n          i.restore();\n        }\n        t(e);\n      };\n      var c = this.img.substr(0, 4);\n      c !== \"data\" && (s.crossOrigin = \"Anonymous\"), s.src = this.imgs;\n      const l = this.fillColor;\n      function f(p, d) {\n        e.width = Math.round(p), e.height = Math.round(d), l && (i.fillStyle = l, i.fillRect(0, 0, e.width, e.height));\n      }\n    },\n    // 获取转换成base64 的图片信息\n    getCropData(t) {\n      this.getCropChecked((e) => {\n        t(e.toDataURL(\"image/\" + this.outputType, this.outputSize));\n      });\n    },\n    //canvas获取为blob对象\n    getCropBlob(t) {\n      this.getCropChecked((e) => {\n        e.toBlob(\n          (i) => t(i),\n          \"image/\" + this.outputType,\n          this.outputSize\n        );\n      });\n    },\n    // 自动预览函数\n    showPreview() {\n      if (this.isCanShow)\n        this.isCanShow = !1, setTimeout(() => {\n          this.isCanShow = !0;\n        }, 16);\n      else\n        return !1;\n      let t = this.cropW, e = this.cropH, i = this.scale;\n      var s = {};\n      s.div = {\n        width: `${t}px`,\n        height: `${e}px`\n      };\n      let r = (this.x - this.cropOffsertX) / i, o = (this.y - this.cropOffsertY) / i, h = 0;\n      s.w = t, s.h = e, s.url = this.imgs, s.img = {\n        width: `${this.trueWidth}px`,\n        height: `${this.trueHeight}px`,\n        transform: `scale(${i})translate3d(${r}px, ${o}px, ${h}px)rotateZ(${this.rotate * 90}deg)`\n      }, s.html = `\n      <div class=\"show-preview\" style=\"width: ${s.w}px; height: ${s.h}px,; overflow: hidden\">\n        <div style=\"width: ${t}px; height: ${e}px\">\n          <img src=${s.url} style=\"width: ${this.trueWidth}px; height: ${this.trueHeight}px; transform:\n          scale(${i})translate3d(${r}px, ${o}px, ${h}px)rotateZ(${this.rotate * 90}deg)\">\n        </div>\n      </div>`, this.$emit(\"real-time\", s);\n    },\n    // reload 图片布局函数\n    reload() {\n      let t = new Image();\n      t.onload = () => {\n        this.w = parseFloat(window.getComputedStyle(this.$refs.cropper).width), this.h = parseFloat(window.getComputedStyle(this.$refs.cropper).height), this.trueWidth = t.width, this.trueHeight = t.height, this.original ? this.scale = 1 : this.scale = this.checkedMode(), this.$nextTick(() => {\n          this.x = -(this.trueWidth - this.trueWidth * this.scale) / 2 + (this.w - this.trueWidth * this.scale) / 2, this.y = -(this.trueHeight - this.trueHeight * this.scale) / 2 + (this.h - this.trueHeight * this.scale) / 2, this.loading = !1, this.autoCrop && this.goAutoCrop(), this.$emit(\"img-load\", \"success\"), setTimeout(() => {\n            this.showPreview();\n          }, 20);\n        });\n      }, t.onerror = () => {\n        this.$emit(\"img-load\", \"error\");\n      }, t.src = this.imgs;\n    },\n    // 背景布局的函数\n    checkedMode() {\n      let t = 1, e = this.trueWidth, i = this.trueHeight;\n      const s = this.mode.split(\" \");\n      switch (s[0]) {\n        case \"contain\":\n          this.trueWidth > this.w && (t = this.w / this.trueWidth), this.trueHeight * t > this.h && (t = this.h / this.trueHeight);\n          break;\n        case \"cover\":\n          e = this.w, t = e / this.trueWidth, i = i * t, i < this.h && (i = this.h, t = i / this.trueHeight);\n          break;\n        default:\n          try {\n            let r = s[0];\n            if (r.search(\"px\") !== -1) {\n              r = r.replace(\"px\", \"\"), e = parseFloat(r);\n              const o = e / this.trueWidth;\n              let h = 1, a = s[1];\n              a.search(\"px\") !== -1 && (a = a.replace(\"px\", \"\"), i = parseFloat(a), h = i / this.trueHeight), t = Math.min(o, h);\n            }\n            if (r.search(\"%\") !== -1 && (r = r.replace(\"%\", \"\"), e = parseFloat(r) / 100 * this.w, t = e / this.trueWidth), s.length === 2 && r === \"auto\") {\n              let o = s[1];\n              o.search(\"px\") !== -1 && (o = o.replace(\"px\", \"\"), i = parseFloat(o), t = i / this.trueHeight), o.search(\"%\") !== -1 && (o = o.replace(\"%\", \"\"), i = parseFloat(o) / 100 * this.h, t = i / this.trueHeight);\n            }\n          } catch {\n            t = 1;\n          }\n      }\n      return t;\n    },\n    // 自动截图函数\n    goAutoCrop(t, e) {\n      if (this.imgs === \"\" || this.imgs === null)\n        return;\n      this.clearCrop(), this.cropping = !0;\n      let i = this.w, s = this.h;\n      if (this.centerBox) {\n        const h = Math.abs(this.rotate) % 2 > 0;\n        let a = (h ? this.trueHeight : this.trueWidth) * this.scale, n = (h ? this.trueWidth : this.trueHeight) * this.scale;\n        i = a < i ? a : i, s = n < s ? n : s;\n      }\n      var r = t || parseFloat(this.autoCropWidth), o = e || parseFloat(this.autoCropHeight);\n      (r === 0 || o === 0) && (r = i * 0.8, o = s * 0.8), r = r > i ? i : r, o = o > s ? s : o, this.fixed && (o = r / this.fixedNumber[0] * this.fixedNumber[1]), o > this.h && (o = this.h, r = o / this.fixedNumber[1] * this.fixedNumber[0]), this.changeCrop(r, o);\n    },\n    // 手动改变截图框大小函数\n    changeCrop(t, e) {\n      if (this.centerBox) {\n        let i = this.getImgAxis();\n        t > i.x2 - i.x1 && (t = i.x2 - i.x1, e = t / this.fixedNumber[0] * this.fixedNumber[1]), e > i.y2 - i.y1 && (e = i.y2 - i.y1, t = e / this.fixedNumber[1] * this.fixedNumber[0]);\n      }\n      this.cropW = t, this.cropH = e, this.checkCropLimitSize(), this.$nextTick(() => {\n        this.cropOffsertX = (this.w - this.cropW) / 2, this.cropOffsertY = (this.h - this.cropH) / 2, this.centerBox && this.moveCrop(null, !0);\n      });\n    },\n    // 重置函数， 恢复组件置初始状态\n    refresh() {\n      this.img, this.imgs = \"\", this.scale = 1, this.crop = !1, this.rotate = 0, this.w = 0, this.h = 0, this.trueWidth = 0, this.trueHeight = 0, this.imgIsQqualCrop = !1, this.clearCrop(), this.$nextTick(() => {\n        this.checkedImg();\n      });\n    },\n    // 向左边旋转\n    rotateLeft() {\n      this.rotate = this.rotate <= -3 ? 0 : this.rotate - 1;\n    },\n    // 向右边旋转\n    rotateRight() {\n      this.rotate = this.rotate >= 3 ? 0 : this.rotate + 1;\n    },\n    // 清除旋转\n    rotateClear() {\n      this.rotate = 0;\n    },\n    // 图片坐标点校验\n    checkoutImgAxis(t, e, i) {\n      t = t || this.x, e = e || this.y, i = i || this.scale;\n      let s = !0;\n      if (this.centerBox) {\n        let r = this.getImgAxis(t, e, i), o = this.getCropAxis();\n        r.x1 >= o.x1 && (s = !1), r.x2 <= o.x2 && (s = !1), r.y1 >= o.y1 && (s = !1), r.y2 <= o.y2 && (s = !1), s || this.changeImgScale(r, o, i);\n      }\n      return s;\n    },\n    // 缩放图片，将图片坐标适配截图框坐标\n    changeImgScale(t, e, i) {\n      let s = this.trueWidth, r = this.trueHeight, o = s * i, h = r * i;\n      if (o >= this.cropW && h >= this.cropH)\n        this.scale = i;\n      else {\n        const a = this.cropW / s, n = this.cropH / r, c = this.cropH <= r * a ? a : n;\n        this.scale = c, o = s * c, h = r * c;\n      }\n      this.imgIsQqualCrop || (t.x1 >= e.x1 && (this.isRotateRightOrLeft ? this.x = e.x1 - (s - o) / 2 - (o - h) / 2 : this.x = e.x1 - (s - o) / 2), t.x2 <= e.x2 && (this.isRotateRightOrLeft ? this.x = e.x1 - (s - o) / 2 - (o - h) / 2 - h + this.cropW : this.x = e.x2 - (s - o) / 2 - o), t.y1 >= e.y1 && (this.isRotateRightOrLeft ? this.y = e.y1 - (r - h) / 2 - (h - o) / 2 : this.y = e.y1 - (r - h) / 2), t.y2 <= e.y2 && (this.isRotateRightOrLeft ? this.y = e.y2 - (r - h) / 2 - (h - o) / 2 - o : this.y = e.y2 - (r - h) / 2 - h)), (o < this.cropW || h < this.cropH) && (this.imgIsQqualCrop = !0);\n    }\n  },\n  mounted() {\n    this.support = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : document.onmousewheel !== void 0 ? \"mousewheel\" : \"DOMMouseScroll\";\n    let t = this;\n    var e = navigator.userAgent;\n    this.isIOS = !!e.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), HTMLCanvasElement.prototype.toBlob || Object.defineProperty(HTMLCanvasElement.prototype, \"toBlob\", {\n      value: function(i, s, r) {\n        for (var o = atob(this.toDataURL(s, r).split(\",\")[1]), h = o.length, a = new Uint8Array(h), n = 0; n < h; n++)\n          a[n] = o.charCodeAt(n);\n        i(new Blob([a], { type: t.type || \"image/png\" }));\n      }\n    }), this.showPreview(), this.checkedImg();\n  },\n  unmounted() {\n    window.removeEventListener(\"mousemove\", this.moveCrop), window.removeEventListener(\"mouseup\", this.leaveCrop), window.removeEventListener(\"touchmove\", this.moveCrop), window.removeEventListener(\"touchend\", this.leaveCrop), this.cancelScale();\n  }\n}), A = {\n  key: 0,\n  class: \"cropper-box\"\n}, B = [\"src\"], P = { class: \"cropper-view-box\" }, R = [\"src\"], D = { key: 1 };\nfunction U(t, e, i, s, r, o) {\n  return y(), x(\"div\", {\n    class: \"vue-cropper\",\n    ref: \"cropper\",\n    onMouseover: e[28] || (e[28] = (...h) => t.scaleImg && t.scaleImg(...h)),\n    onMouseout: e[29] || (e[29] = (...h) => t.cancelScale && t.cancelScale(...h))\n  }, [\n    t.imgs ? (y(), x(\"div\", A, [\n      H(w(\"div\", {\n        class: \"cropper-box-canvas\",\n        style: b({\n          width: t.trueWidth + \"px\",\n          height: t.trueHeight + \"px\",\n          transform: \"scale(\" + t.scale + \",\" + t.scale + \") translate3d(\" + t.x / t.scale + \"px,\" + t.y / t.scale + \"px,0)rotateZ(\" + t.rotate * 90 + \"deg)\"\n        })\n      }, [\n        w(\"img\", {\n          src: t.imgs,\n          alt: \"cropper-img\",\n          ref: \"cropperImg\"\n        }, null, 8, B)\n      ], 4), [\n        [W, !t.loading]\n      ])\n    ])) : O(\"\", !0),\n    w(\"div\", {\n      class: I([\"cropper-drag-box\", { \"cropper-move\": t.move && !t.crop, \"cropper-crop\": t.crop, \"cropper-modal\": t.cropping }]),\n      onMousedown: e[0] || (e[0] = (...h) => t.startMove && t.startMove(...h)),\n      onTouchstart: e[1] || (e[1] = (...h) => t.startMove && t.startMove(...h))\n    }, null, 34),\n    H(w(\"div\", {\n      class: \"cropper-crop-box\",\n      style: b({\n        width: t.cropW + \"px\",\n        height: t.cropH + \"px\",\n        transform: \"translate3d(\" + t.cropOffsertX + \"px,\" + t.cropOffsertY + \"px,0)\"\n      })\n    }, [\n      w(\"span\", P, [\n        w(\"img\", {\n          style: b({\n            width: t.trueWidth + \"px\",\n            height: t.trueHeight + \"px\",\n            transform: \"scale(\" + t.scale + \",\" + t.scale + \") translate3d(\" + (t.x - t.cropOffsertX) / t.scale + \"px,\" + (t.y - t.cropOffsertY) / t.scale + \"px,0)rotateZ(\" + t.rotate * 90 + \"deg)\"\n          }),\n          src: t.imgs,\n          alt: \"cropper-img\"\n        }, null, 12, R)\n      ]),\n      w(\"span\", {\n        class: \"cropper-face cropper-move\",\n        onMousedown: e[2] || (e[2] = (...h) => t.cropMove && t.cropMove(...h)),\n        onTouchstart: e[3] || (e[3] = (...h) => t.cropMove && t.cropMove(...h))\n      }, null, 32),\n      t.info ? (y(), x(\"span\", {\n        key: 0,\n        class: \"crop-info\",\n        style: b({ top: t.cropInfo.top })\n      }, X(t.cropInfo.width) + \" × \" + X(t.cropInfo.height), 5)) : O(\"\", !0),\n      t.fixedBox ? O(\"\", !0) : (y(), x(\"span\", D, [\n        w(\"span\", {\n          class: \"crop-line line-w\",\n          onMousedown: e[4] || (e[4] = (h) => t.changeCropSize(h, !1, !0, 0, 1)),\n          onTouchstart: e[5] || (e[5] = (h) => t.changeCropSize(h, !1, !0, 0, 1))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-line line-a\",\n          onMousedown: e[6] || (e[6] = (h) => t.changeCropSize(h, !0, !1, 1, 0)),\n          onTouchstart: e[7] || (e[7] = (h) => t.changeCropSize(h, !0, !1, 1, 0))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-line line-s\",\n          onMousedown: e[8] || (e[8] = (h) => t.changeCropSize(h, !1, !0, 0, 2)),\n          onTouchstart: e[9] || (e[9] = (h) => t.changeCropSize(h, !1, !0, 0, 2))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-line line-d\",\n          onMousedown: e[10] || (e[10] = (h) => t.changeCropSize(h, !0, !1, 2, 0)),\n          onTouchstart: e[11] || (e[11] = (h) => t.changeCropSize(h, !0, !1, 2, 0))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-point point1\",\n          onMousedown: e[12] || (e[12] = (h) => t.changeCropSize(h, !0, !0, 1, 1)),\n          onTouchstart: e[13] || (e[13] = (h) => t.changeCropSize(h, !0, !0, 1, 1))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-point point2\",\n          onMousedown: e[14] || (e[14] = (h) => t.changeCropSize(h, !1, !0, 0, 1)),\n          onTouchstart: e[15] || (e[15] = (h) => t.changeCropSize(h, !1, !0, 0, 1))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-point point3\",\n          onMousedown: e[16] || (e[16] = (h) => t.changeCropSize(h, !0, !0, 2, 1)),\n          onTouchstart: e[17] || (e[17] = (h) => t.changeCropSize(h, !0, !0, 2, 1))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-point point4\",\n          onMousedown: e[18] || (e[18] = (h) => t.changeCropSize(h, !0, !1, 1, 0)),\n          onTouchstart: e[19] || (e[19] = (h) => t.changeCropSize(h, !0, !1, 1, 0))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-point point5\",\n          onMousedown: e[20] || (e[20] = (h) => t.changeCropSize(h, !0, !1, 2, 0)),\n          onTouchstart: e[21] || (e[21] = (h) => t.changeCropSize(h, !0, !1, 2, 0))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-point point6\",\n          onMousedown: e[22] || (e[22] = (h) => t.changeCropSize(h, !0, !0, 1, 2)),\n          onTouchstart: e[23] || (e[23] = (h) => t.changeCropSize(h, !0, !0, 1, 2))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-point point7\",\n          onMousedown: e[24] || (e[24] = (h) => t.changeCropSize(h, !1, !0, 0, 2)),\n          onTouchstart: e[25] || (e[25] = (h) => t.changeCropSize(h, !1, !0, 0, 2))\n        }, null, 32),\n        w(\"span\", {\n          class: \"crop-point point8\",\n          onMousedown: e[26] || (e[26] = (h) => t.changeCropSize(h, !0, !0, 2, 2)),\n          onTouchstart: e[27] || (e[27] = (h) => t.changeCropSize(h, !0, !0, 2, 2))\n        }, null, 32)\n      ]))\n    ], 4), [\n      [W, t.cropping]\n    ])\n  ], 544);\n}\nconst M = /* @__PURE__ */ $(z, [[\"render\", U], [\"__scopeId\", \"data-v-a742df44\"]]), F = function(t) {\n  t.component(\"VueCropper\", M);\n}, V = {\n  version: \"1.1.4\",\n  install: F,\n  VueCropper: M\n};\nexport {\n  M as VueCropper,\n  V as default,\n  V as globalCropper\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"common-body-set-width\" }\nconst _hoisted_2 = { class: \"user-profile-edit-title-div\" }\nconst _hoisted_3 = { class: \"user-profile-edit-back-button-text\" }\nconst _hoisted_4 = { class: \"user-profile-edit-title-h1\" }\nconst _hoisted_5 = { class: \"user-profile-edit-avatar-div\" }\nconst _hoisted_6 = { class: \"user-profile-edit-upload-div\" }\nconst _hoisted_7 = { class: \"user-profile-edit-upload-text\" }\nconst _hoisted_8 = { class: \"user-profile-edit-upload-cropper\" }\n\nimport axios from 'axios';\r\nimport { ref,reactive,h } from 'vue'\r\nimport { getUserMessage,editUserProfile,uploadAvatar } from '@/axios/api/user'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElNotification,ElMessage } from 'element-plus'\r\nimport type { FormInstance } from 'element-plus'\r\nimport { toBase64 } from '@/tools/tool'\r\nimport 'vue-cropper/dist/index.css'\r\nimport { VueCropper }  from \"vue-cropper\";\r\nimport { genFileId } from 'element-plus'\r\nimport type { UploadInstance, UploadProps, UploadRawFile } from 'element-plus'\r\nimport i18n from '@/language';\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'UserProfileEdit',\n  setup(__props) {\n\r\nconst router = useRouter()\r\nconst { t } = i18n.global\r\n\r\nconst avatarUrl = ref(axios.defaults.baseURL + \"/static/file/userAvatar/NULL.webp\") //头像URL\r\nconst userStatus = ref(10) //用户 权限\r\nconst isUploadAvatarDrawerOpen = ref(false) //上传新头像的抽屉是否打开\r\nconst uploadRef = ref<UploadInstance>() //upload 组件的 ref\r\nconst cropperRef = ref<InstanceType<typeof VueCropper> | null>(null);\r\n\r\nconst userProfileForm = reactive //数据输入\r\n({\r\n    username: \"\",\r\n    mark: \"\",\r\n})\r\nconst userProfileFormRef = ref<FormInstance>() //添加 userProfile 表单的 ref\r\nconst userProfileFormRules = reactive //添加 userProfile 表单的 rule\r\n({\r\n    username:\r\n    [\r\n        { required: true, message: t(\"rules.username\"), trigger: 'blur' },\r\n        { pattern: /^[a-zA-Z0-9_-]+$/, message: t(\"rules.usernameNeeded\"), trigger: 'blur' },\r\n    ],\r\n    mark:[],\r\n})\r\nconst option = reactive\r\n({\r\n    img: \"\", //需要剪切的图片 base64\r\n    outputSize: 0.5, //输出质量\r\n    outputType: \"webp\", //输出格式\r\n    autoCrop: \"\", //生成截图框\r\n    fixed: true, //是否开启截图框宽高固定比例\r\n    fixedBox: true, //是否固定截图框大小\r\n    canMoveBox: false, //截图框能否拖动\r\n    autoCropWidth: 200, //生成截图框宽度\r\n    autoCropHeight:200, //生成截图框高度\r\n})\r\n\r\nconst loadUserMessage = async () => //获取用户信息(用户名，头像)\r\n{\r\n    try\r\n    {\r\n        const resp = await getUserMessage({ uuid: localStorage.getItem(\"uuid\") })\r\n        userProfileForm.username = resp.data.username\r\n        userStatus.value = userStatus.value = Number(localStorage.getItem(\"userStatus\"))\r\n        avatarUrl.value = axios.defaults.baseURL + \"/static/file/userAvatar/\" + resp.data.avatar\r\n        userProfileForm.mark = resp.data.mark\r\n        if(resp.data.signCode == 500) //token过期\r\n        {\r\n            ElNotification\r\n            ({\r\n                title: t(\"common.noties\"),\r\n                message: h('i', { style: 'color: teal' }, t(\"sign.tokenTimeOut\")),\r\n                offset: 50,\r\n            })\r\n            localStorage.setItem(\"isSignIn\",\"false\")\r\n            localStorage.removeItem(\"token\")\r\n            localStorage.removeItem(\"uuid\")\r\n            localStorage.removeItem(\"uid\")\r\n        }\r\n    } catch {}\r\n}\r\n\r\nconst clickBack = () => //点击返回\r\n{\r\n    router.push\r\n    ({\r\n        name: 'UserProfile',\r\n        path: '/UserProfile',\r\n    })\r\n}\r\n\r\nconst handleExceed: UploadProps['onExceed'] = (files) => //在上传新文件时 (仅允许上传一个文件 触发超出限制时，执行的钩子函数) 替换文件\r\n{\r\n    uploadRef.value?.clearFiles()\r\n    const file = files[0] as UploadRawFile\r\n    file.uid = genFileId()\r\n    uploadRef.value?.handleStart(file)\r\n    uploadRef.value?.submit() //替换文件后重新提交\r\n}\r\n\r\nconst uploadFileAndOpenCropper = async (options) => //上传图片\r\n{\r\n    const file = options.file;\r\n\r\n    // 检查文件类型\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/webp'];\r\n    if (!allowedTypes.includes(file.type))\r\n    {\r\n        ElMessage\r\n        ({\r\n            message: t(\"static.uploadNeedBeImage\"),\r\n            type: 'warning',\r\n        })\r\n        return\r\n    }\r\n\r\n    // 检查文件大小是否大于 10MB\r\n    const maxSizeMB = 10; // 文件大小限制为 10MB\r\n    const maxSizeBytes = maxSizeMB * 1024 * 1024;\r\n    if (file.size > maxSizeBytes)\r\n    {\r\n        ElMessage\r\n        ({\r\n            message: t(\"static.uploadFileTooLarge\") + \" < \" + maxSizeMB + \" MB\",\r\n            type: 'warning',\r\n        });\r\n        return;\r\n    }\r\n\r\n    try\r\n    {\r\n        const base64 = await toBase64(file);\r\n\r\n        // 打开裁剪器并设置图片\r\n        option.img = base64;\r\n        isUploadAvatarDrawerOpen.value = true;\r\n    }\r\n    catch (error)\r\n    {\r\n        ElMessage\r\n        ({\r\n            message: t(\"static.uploadFailed\"),\r\n            type: 'error',\r\n        });\r\n    }\r\n}\r\n\r\nconst clickCancelUpload = () => //点击取消上传头像\r\n{\r\n    isUploadAvatarDrawerOpen.value = false\r\n}\r\n\r\nconst doUploadAvatar = () => //点击提交上传头像\r\n{\r\n    cropperRef.value.getCropBlob(data => \r\n    {\r\n        const file = new File([data], 'avatar.webp', { type: 'image/webp' })\r\n        doUploadAvatarRequest(file)\r\n    })\r\n}\r\n\r\nconst doUploadAvatarRequest = async (file:File) => //接收到File对象后 发送请求进行上传\r\n{\r\n    try\r\n    {\r\n        const resp = await uploadAvatar({},file)\r\n        if(resp.data.code == 200)\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.uploadSuccess\"),\r\n                type: 'success',\r\n            })\r\n            ElNotification\r\n            ({\r\n                title: t(\"common.noties\"),\r\n                message: h('i', { style: 'color: #67C23A' }, t(\"static.reloadAvatar\")),\r\n                offset: 50,\r\n            })\r\n        }\r\n        else if(resp.data.code == 400)\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.uploadFailed\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.paramsError\"),\r\n                type: 'error',\r\n            })\r\n        }\r\n        isUploadAvatarDrawerOpen.value = false\r\n    } catch {}\r\n}\r\n\r\nconst clickEditUserProfile = async (formEl: FormInstance | undefined) => //点击提交编辑用户信息\r\n{\r\n    if (!formEl) return //表单验证\r\n    await formEl.validate((valid, fields) => {\r\n        if (valid) {\r\n            doEditUserProfile()\r\n        } else {\r\n            console.log('error submit!', fields)\r\n        }\r\n    })\r\n}\r\n\r\nconst doEditUserProfile = async () => //发送编辑用户信息请求\r\n{\r\n    try\r\n    {\r\n        const params = \r\n        {\r\n            uuid: localStorage.getItem(\"uuid\"),\r\n            username: userProfileForm.username,\r\n            mark: userProfileForm.mark,\r\n        }\r\n        const resp = await editUserProfile(params)\r\n        if(resp.data.code == 200) //修改成功\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.editSuccess\"),\r\n                type: 'success',\r\n            })\r\n        }\r\n        else if(resp.data.code == 400) //用户名已被注册\r\n        {\r\n            ElMessage({\r\n                message: t(\"sign.usernameHasBeenUsedMessage\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else if(resp.data.code == 401) //错误\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.editFailed\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else if(resp.data.code == 403) //修改用户与当前用户不同\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.editFailedBecauseDifferentUser\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else if(resp.data.code == 500) //用户名不合法\r\n        {\r\n            ElMessage({\r\n                message: t(\"sign.usernameInvalid\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.paramsError\"),\r\n                type: 'error',\r\n            })\r\n        }\r\n    } catch {}\r\n}\r\n\r\nloadUserMessage()\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_Back = _resolveComponent(\"Back\")!\n  const _component_el_icon = _resolveComponent(\"el-icon\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_image = _resolveComponent(\"el-image\")!\n  const _component_el_card = _resolveComponent(\"el-card\")!\n  const _component_Upload = _resolveComponent(\"Upload\")!\n  const _component_el_upload = _resolveComponent(\"el-upload\")!\n  const _component_el_divider = _resolveComponent(\"el-divider\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_CircleCheckFilled = _resolveComponent(\"CircleCheckFilled\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_drawer = _resolveComponent(\"el-drawer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_component_el_button, {\n          type: \"info\",\n          onClick: clickBack,\n          plain: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_icon, { size: \"20\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_Back)\n              ]),\n              _: 1\n            }),\n            _createElementVNode(\"p\", _hoisted_3, _toDisplayString(_ctx.$t(\"common.back\")), 1)\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"h1\", _hoisted_4, _toDisplayString(_ctx.$t(\"static.userProfileEdit\")), 1)\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createVNode(_component_el_card, { class: \"user-profile-edit-avatar-show-card\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_image, { src: avatarUrl.value }, null, 8, [\"src\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_upload, {\n          action: \"\",\n          ref_key: \"uploadRef\",\n          ref: uploadRef,\n          accept: \".jpg,.jpeg,.png,.webp\",\n          \"auto-upload\": true,\n          limit: 1,\n          \"show-file-list\": false,\n          \"on-exceed\": handleExceed,\n          \"http-request\": uploadFileAndOpenCropper\n        }, {\n          trigger: _withCtx(() => [\n            _createVNode(_component_el_button, {\n              class: \"user-profile-edit-avatar-button\",\n              type: \"warning\",\n              plain: \"\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_icon, {\n                  class: \"user-profile-edit-avatar-button-icon\",\n                  size: \"15\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_Upload)\n                  ]),\n                  _: 1\n                }),\n                _createTextVNode(\" \" + _toDisplayString(_ctx.$t(\"static.uploadNewAvatar\")), 1)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 512)\n      ]),\n      _createVNode(_component_el_divider),\n      _createVNode(_component_el_form, {\n        ref_key: \"userProfileFormRef\",\n        ref: userProfileFormRef,\n        model: userProfileForm,\n        rules: userProfileFormRules\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_el_form_item, { prop: \"username\" }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"h1\", null, _toDisplayString(_ctx.$t(\"user.username\")), 1),\n              _createVNode(_component_el_input, {\n                modelValue: userProfileForm.username,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((userProfileForm.username) = $event)),\n                maxlength: \"30\",\n                \"show-word-limit\": \"\",\n                clearable: \"\"\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, { prop: \"mark\" }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"h1\", null, _toDisplayString(_ctx.$t(\"user.mark\")), 1),\n              _createVNode(_component_el_input, {\n                modelValue: userProfileForm.mark,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((userProfileForm.mark) = $event)),\n                maxlength: \"100\",\n                type: \"textarea\",\n                autosize: { minRows: 3 },\n                \"show-word-limit\": \"\",\n                clearable: \"\"\n              }, null, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_form_item, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_el_button, {\n                type: \"success\",\n                onClick: _cache[2] || (_cache[2] = ($event: any) => (clickEditUserProfile(userProfileFormRef.value)))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_el_icon, {\n                    class: \"user-profile-edit-submit-button-icon\",\n                    size: \"15\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_CircleCheckFilled)\n                    ]),\n                    _: 1\n                  }),\n                  _createTextVNode(\" \" + _toDisplayString(_ctx.$t(\"common.submit\")), 1)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"model\", \"rules\"])\n    ]),\n    _createVNode(_component_el_drawer, {\n      modelValue: isUploadAvatarDrawerOpen.value,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((isUploadAvatarDrawerOpen).value = $event)),\n      direction: \"ttb\"\n    }, {\n      header: _withCtx(() => [\n        _createElementVNode(\"h1\", null, _toDisplayString(_ctx.$t(\"common.upload\")), 1)\n      ]),\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"div\", _hoisted_7, _toDisplayString(_ctx.$t(\"static.reallyToUploadAvatar\")), 1),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createVNode(_unref(VueCropper), {\n              ref_key: \"cropperRef\",\n              ref: cropperRef,\n              img: option.img,\n              outputSize: option.outputSize,\n              outputType: option.outputType,\n              autoCrop: option.autoCrop,\n              fixed: option.fixed,\n              fixedBox: option.fixedBox,\n              canMoveBox: option.canMoveBox,\n              autoCropWidth: option.autoCropWidth,\n              autoCropHeight: option.autoCropHeight\n            }, null, 8, [\"img\", \"outputSize\", \"outputType\", \"autoCrop\", \"fixed\", \"fixedBox\", \"canMoveBox\", \"autoCropWidth\", \"autoCropHeight\"])\n          ])\n        ])\n      ]),\n      footer: _withCtx(() => [\n        _createVNode(_component_el_button, {\n          type: \"info\",\n          plain: \"\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (clickCancelUpload()))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(_ctx.$t(\"common.no\")), 1)\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_button, {\n          type: \"danger\",\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (doUploadAvatar()))\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(_ctx.$t(\"common.submit\")), 1)\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"modelValue\"])\n  ], 64))\n}\n}\n\n})","<template>\r\n    <div class=\"common-body-set-width\">\r\n        <div class=\"user-profile-edit-title-div\">\r\n            <el-button type=\"info\" @click=\"clickBack\" plain>\r\n                <el-icon size=\"20\">\r\n                    <Back/>\r\n                </el-icon>\r\n                <p class=\"user-profile-edit-back-button-text\">{{ $t(\"common.back\") }}</p>\r\n            </el-button>\r\n            <h1 class=\"user-profile-edit-title-h1\">{{ $t(\"static.userProfileEdit\") }}</h1>\r\n        </div>\r\n        <div class=\"user-profile-edit-avatar-div\">\r\n            <el-card class=\"user-profile-edit-avatar-show-card\">\r\n                <el-image :src=\"avatarUrl\"></el-image>\r\n            </el-card>\r\n            <el-upload\r\n                action=\"\"\r\n                ref=\"uploadRef\"\r\n                accept=\".jpg,.jpeg,.png,.webp\"\r\n                :auto-upload=\"true\"\r\n                :limit=\"1\"\r\n                :show-file-list=\"false\"\r\n                :on-exceed=\"handleExceed\"\r\n                :http-request=\"uploadFileAndOpenCropper\"\r\n                >\r\n                <template #trigger>\r\n                    <el-button class=\"user-profile-edit-avatar-button\" type=\"warning\" plain>\r\n                        <el-icon class=\"user-profile-edit-avatar-button-icon\" size=\"15\"><Upload /></el-icon>\r\n                        {{ $t(\"static.uploadNewAvatar\") }}\r\n                    </el-button>\r\n                </template>\r\n\r\n            </el-upload>\r\n        </div>\r\n        <el-divider></el-divider>\r\n        <el-form ref=\"userProfileFormRef\" :model=\"userProfileForm\" :rules=\"userProfileFormRules\">\r\n            <el-form-item prop=\"username\">\r\n                <h1>{{ $t(\"user.username\") }}</h1>\r\n                <el-input v-model=\"userProfileForm.username\" maxlength=\"30\" show-word-limit clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"mark\">\r\n                <h1>{{ $t(\"user.mark\") }}</h1>\r\n                <el-input v-model=\"userProfileForm.mark\" maxlength=\"100\" type=\"textarea\" :autosize=\"{ minRows: 3 }\" show-word-limit clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button type=\"success\" @click=\"clickEditUserProfile(userProfileFormRef)\">\r\n                    <el-icon class=\"user-profile-edit-submit-button-icon\" size=\"15\"><CircleCheckFilled/></el-icon>\r\n                    {{ $t(\"common.submit\") }}\r\n                </el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n    <el-drawer v-model=\"isUploadAvatarDrawerOpen\" direction=\"ttb\">\r\n        <template #header>\r\n            <h1>{{ $t(\"common.upload\") }}</h1>\r\n        </template>\r\n        <template #default>\r\n            <div class=\"user-profile-edit-upload-div\">\r\n                <div class=\"user-profile-edit-upload-text\">{{ $t(\"static.reallyToUploadAvatar\") }}</div>\r\n                <div class=\"user-profile-edit-upload-cropper\">\r\n                    <vueCropper\r\n                    ref=\"cropperRef\"\r\n                    :img=\"option.img\"\r\n                    :outputSize=\"option.outputSize\"\r\n                    :outputType=\"option.outputType\"\r\n                    :autoCrop=\"option.autoCrop\"\r\n                    :fixed=\"option.fixed\"\r\n                    :fixedBox=\"option.fixedBox\"\r\n                    :canMoveBox=\"option.canMoveBox\"\r\n                    :autoCropWidth=\"option.autoCropWidth\"\r\n                    :autoCropHeight=\"option.autoCropHeight\"\r\n                    ></vueCropper>\r\n                </div>\r\n            </div>\r\n        </template>\r\n        <template #footer>\r\n            <el-button type=\"info\" plain @click=\"clickCancelUpload()\">{{ $t(\"common.no\") }}</el-button>\r\n            <el-button type=\"danger\" @click=\"doUploadAvatar()\">{{ $t(\"common.submit\") }}</el-button>\r\n        </template>\r\n    </el-drawer>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport axios from 'axios';\r\nimport { ref,reactive,h } from 'vue'\r\nimport { getUserMessage,editUserProfile,uploadAvatar } from '@/axios/api/user'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElNotification,ElMessage } from 'element-plus'\r\nimport type { FormInstance } from 'element-plus'\r\nimport { toBase64 } from '@/tools/tool'\r\nimport 'vue-cropper/dist/index.css'\r\nimport { VueCropper }  from \"vue-cropper\";\r\nimport { genFileId } from 'element-plus'\r\nimport type { UploadInstance, UploadProps, UploadRawFile } from 'element-plus'\r\nimport i18n from '@/language';\r\nconst router = useRouter()\r\nconst { t } = i18n.global\r\n\r\nconst avatarUrl = ref(axios.defaults.baseURL + \"/static/file/userAvatar/NULL.webp\") //头像URL\r\nconst userStatus = ref(10) //用户 权限\r\nconst isUploadAvatarDrawerOpen = ref(false) //上传新头像的抽屉是否打开\r\nconst uploadRef = ref<UploadInstance>() //upload 组件的 ref\r\nconst cropperRef = ref<InstanceType<typeof VueCropper> | null>(null);\r\n\r\nconst userProfileForm = reactive //数据输入\r\n({\r\n    username: \"\",\r\n    mark: \"\",\r\n})\r\nconst userProfileFormRef = ref<FormInstance>() //添加 userProfile 表单的 ref\r\nconst userProfileFormRules = reactive //添加 userProfile 表单的 rule\r\n({\r\n    username:\r\n    [\r\n        { required: true, message: t(\"rules.username\"), trigger: 'blur' },\r\n        { pattern: /^[a-zA-Z0-9_-]+$/, message: t(\"rules.usernameNeeded\"), trigger: 'blur' },\r\n    ],\r\n    mark:[],\r\n})\r\nconst option = reactive\r\n({\r\n    img: \"\", //需要剪切的图片 base64\r\n    outputSize: 0.5, //输出质量\r\n    outputType: \"webp\", //输出格式\r\n    autoCrop: \"\", //生成截图框\r\n    fixed: true, //是否开启截图框宽高固定比例\r\n    fixedBox: true, //是否固定截图框大小\r\n    canMoveBox: false, //截图框能否拖动\r\n    autoCropWidth: 200, //生成截图框宽度\r\n    autoCropHeight:200, //生成截图框高度\r\n})\r\n\r\nconst loadUserMessage = async () => //获取用户信息(用户名，头像)\r\n{\r\n    try\r\n    {\r\n        const resp = await getUserMessage({ uuid: localStorage.getItem(\"uuid\") })\r\n        userProfileForm.username = resp.data.username\r\n        userStatus.value = userStatus.value = Number(localStorage.getItem(\"userStatus\"))\r\n        avatarUrl.value = axios.defaults.baseURL + \"/static/file/userAvatar/\" + resp.data.avatar\r\n        userProfileForm.mark = resp.data.mark\r\n        if(resp.data.signCode == 500) //token过期\r\n        {\r\n            ElNotification\r\n            ({\r\n                title: t(\"common.noties\"),\r\n                message: h('i', { style: 'color: teal' }, t(\"sign.tokenTimeOut\")),\r\n                offset: 50,\r\n            })\r\n            localStorage.setItem(\"isSignIn\",\"false\")\r\n            localStorage.removeItem(\"token\")\r\n            localStorage.removeItem(\"uuid\")\r\n            localStorage.removeItem(\"uid\")\r\n        }\r\n    } catch {}\r\n}\r\n\r\nconst clickBack = () => //点击返回\r\n{\r\n    router.push\r\n    ({\r\n        name: 'UserProfile',\r\n        path: '/UserProfile',\r\n    })\r\n}\r\n\r\nconst handleExceed: UploadProps['onExceed'] = (files) => //在上传新文件时 (仅允许上传一个文件 触发超出限制时，执行的钩子函数) 替换文件\r\n{\r\n    uploadRef.value?.clearFiles()\r\n    const file = files[0] as UploadRawFile\r\n    file.uid = genFileId()\r\n    uploadRef.value?.handleStart(file)\r\n    uploadRef.value?.submit() //替换文件后重新提交\r\n}\r\n\r\nconst uploadFileAndOpenCropper = async (options) => //上传图片\r\n{\r\n    const file = options.file;\r\n\r\n    // 检查文件类型\r\n    const allowedTypes = ['image/jpeg', 'image/png', 'image/webp'];\r\n    if (!allowedTypes.includes(file.type))\r\n    {\r\n        ElMessage\r\n        ({\r\n            message: t(\"static.uploadNeedBeImage\"),\r\n            type: 'warning',\r\n        })\r\n        return\r\n    }\r\n\r\n    // 检查文件大小是否大于 10MB\r\n    const maxSizeMB = 10; // 文件大小限制为 10MB\r\n    const maxSizeBytes = maxSizeMB * 1024 * 1024;\r\n    if (file.size > maxSizeBytes)\r\n    {\r\n        ElMessage\r\n        ({\r\n            message: t(\"static.uploadFileTooLarge\") + \" < \" + maxSizeMB + \" MB\",\r\n            type: 'warning',\r\n        });\r\n        return;\r\n    }\r\n\r\n    try\r\n    {\r\n        const base64 = await toBase64(file);\r\n\r\n        // 打开裁剪器并设置图片\r\n        option.img = base64;\r\n        isUploadAvatarDrawerOpen.value = true;\r\n    }\r\n    catch (error)\r\n    {\r\n        ElMessage\r\n        ({\r\n            message: t(\"static.uploadFailed\"),\r\n            type: 'error',\r\n        });\r\n    }\r\n}\r\n\r\nconst clickCancelUpload = () => //点击取消上传头像\r\n{\r\n    isUploadAvatarDrawerOpen.value = false\r\n}\r\n\r\nconst doUploadAvatar = () => //点击提交上传头像\r\n{\r\n    cropperRef.value.getCropBlob(data => \r\n    {\r\n        const file = new File([data], 'avatar.webp', { type: 'image/webp' })\r\n        doUploadAvatarRequest(file)\r\n    })\r\n}\r\n\r\nconst doUploadAvatarRequest = async (file:File) => //接收到File对象后 发送请求进行上传\r\n{\r\n    try\r\n    {\r\n        const resp = await uploadAvatar({},file)\r\n        if(resp.data.code == 200)\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.uploadSuccess\"),\r\n                type: 'success',\r\n            })\r\n            ElNotification\r\n            ({\r\n                title: t(\"common.noties\"),\r\n                message: h('i', { style: 'color: #67C23A' }, t(\"static.reloadAvatar\")),\r\n                offset: 50,\r\n            })\r\n        }\r\n        else if(resp.data.code == 400)\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.uploadFailed\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.paramsError\"),\r\n                type: 'error',\r\n            })\r\n        }\r\n        isUploadAvatarDrawerOpen.value = false\r\n    } catch {}\r\n}\r\n\r\nconst clickEditUserProfile = async (formEl: FormInstance | undefined) => //点击提交编辑用户信息\r\n{\r\n    if (!formEl) return //表单验证\r\n    await formEl.validate((valid, fields) => {\r\n        if (valid) {\r\n            doEditUserProfile()\r\n        } else {\r\n            console.log('error submit!', fields)\r\n        }\r\n    })\r\n}\r\n\r\nconst doEditUserProfile = async () => //发送编辑用户信息请求\r\n{\r\n    try\r\n    {\r\n        const params = \r\n        {\r\n            uuid: localStorage.getItem(\"uuid\"),\r\n            username: userProfileForm.username,\r\n            mark: userProfileForm.mark,\r\n        }\r\n        const resp = await editUserProfile(params)\r\n        if(resp.data.code == 200) //修改成功\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.editSuccess\"),\r\n                type: 'success',\r\n            })\r\n        }\r\n        else if(resp.data.code == 400) //用户名已被注册\r\n        {\r\n            ElMessage({\r\n                message: t(\"sign.usernameHasBeenUsedMessage\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else if(resp.data.code == 401) //错误\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.editFailed\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else if(resp.data.code == 403) //修改用户与当前用户不同\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.editFailedBecauseDifferentUser\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else if(resp.data.code == 500) //用户名不合法\r\n        {\r\n            ElMessage({\r\n                message: t(\"sign.usernameInvalid\"),\r\n                type: 'warning',\r\n            })\r\n        }\r\n        else\r\n        {\r\n            ElMessage({\r\n                message: t(\"static.paramsError\"),\r\n                type: 'error',\r\n            })\r\n        }\r\n    } catch {}\r\n}\r\n\r\nloadUserMessage()\r\n</script>\r\n\r\n<style>\r\n@import '@/css/common.css';\r\n\r\n.user-profile-edit-title-div\r\n{\r\n    display: flex;\r\n    align-items: center; /* 垂直居中 */\r\n    margin-bottom: 30px;\r\n}\r\n\r\n.user-profile-edit-back-button-text\r\n{\r\n    margin-left: 5px;\r\n}\r\n\r\n.user-profile-edit-title-h1\r\n{\r\n    margin: 0px 0px 0px 20px;\r\n}\r\n\r\n.user-profile-edit-avatar-div\r\n{\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n}\r\n\r\n.user-profile-edit-avatar-show-card\r\n{\r\n    width: 100px;\r\n    height: 100px;\r\n}\r\n\r\n.user-profile-edit-avatar-show-card .el-card__body\r\n{\r\n    padding: 0;\r\n}\r\n\r\n.user-profile-edit-avatar-button\r\n{\r\n    margin-left: 20px;\r\n}\r\n\r\n.user-profile-edit-avatar-button-icon\r\n{\r\n    margin-right: 10px;\r\n}\r\n\r\n.user-profile-edit-submit-button-icon\r\n{\r\n    margin-right: 10px;\r\n}\r\n\r\n.user-profile-edit-upload-div\r\n{\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    text-align: center;\r\n}\r\n\r\n.user-profile-edit-upload-text\r\n{\r\n    font-weight: bold;\r\n    font-size: 30px;\r\n}\r\n\r\n.user-profile-edit-upload-cropper\r\n{\r\n    height: 200px;\r\n    width: 200px;\r\n    margin-top: 20px;\r\n}\r\n</style>\r\n","import script from \"./UserProfileEdit.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./UserProfileEdit.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./UserProfileEdit.vue?vue&type=style&index=0&id=65532164&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["Y","L","t","e","Promise","i","s","src","test","k","r","FileReader","onload","h","target","result","E","readAsArrayBuffer","o","XMLHttpRequest","this","status","response","open","responseType","send","match","replace","atob","length","ArrayBuffer","Uint16Array","charCodeAt","T","String","fromCharCode","getUint8","N","a","n","c","l","f","p","DataView","byteLength","getUint16","getUint32","getData","then","arrayBuffer","orientation","catch","$","__vccOpts","z","S","data","w","scale","x","y","loading","trueWidth","trueHeight","move","moveX","moveY","crop","cropping","cropW","cropH","cropOldW","cropOldH","canChangeX","canChangeY","changeCropTypeX","changeCropTypeY","cropX","cropY","cropChangeX","cropChangeY","cropOffsertX","cropOffsertY","support","touches","touchNow","rotate","isIos","imgs","coe","scaling","scalingSet","coeStatus","isCanShow","imgIsQqualCrop","props","img","type","Blob","File","default","outputSize","Number","outputType","info","Boolean","canScale","autoCrop","autoCropWidth","autoCropHeight","fixed","fixedNumber","Array","fixedBox","full","canMove","canMoveBox","original","centerBox","high","infoTrue","maxImgSize","enlarge","preW","mode","limitMinSize","validator","isArray","fillColor","computed","cropInfo","top","width","height","window","devicePixelRatio","Math","abs","toFixed","isIE","ActiveXObject","passive","isRotateRightOrLeft","includes","watch","checkedImg","reload","showPreview","goAutoCrop","methods","getVersion","navigator","userAgent","split","RegExp","checkOrientationImage","toLowerCase","document","createElement","getContext","save","translate","PI","drawImage","restore","toBlob","URL","createObjectURL","revokeObjectURL","clearCrop","Image","$emit","Error","onerror","substr","crossOrigin","startMove","preventDefault","clientX","clientY","addEventListener","moveImg","leaveImg","touchScale","cancelTouchScale","moving","axis","getImgAxis","createCrop","endCrop","offsetX","pageX","$refs","cropper","offsetLeft","offsetY","pageY","offsetTop","sqrt","pow","setTimeout","checkoutImgAxis","removeEventListener","$nextTick","getCropAxis","x1","y1","x2","y2","scaleImg","changeSize","cancelScale","deltaY","wheelDelta","indexOf","changeScale","changeCropSize","changeCropNow","changeCropEnd","checkCropLimitSize","parseFloat","calculateSize","ceil","startCrop","stopCrop","cropMove","leaveCrop","moveCrop","getCropChecked","d","C","u","g","m","v","round","fillStyle","fillRect","getCropData","toDataURL","getCropBlob","div","url","transform","html","getComputedStyle","checkedMode","search","min","changeCrop","refresh","rotateLeft","rotateRight","rotateClear","changeImgScale","mounted","onmousewheel","isIOS","HTMLCanvasElement","prototype","Object","defineProperty","value","Uint8Array","unmounted","A","key","class","B","P","R","D","U","ref","onMouseover","onMouseout","H","style","b","alt","W","O","I","onMousedown","onTouchstart","X","M","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_defineComponent","__name","setup","__props","router","useRouter","i18n","global","avatarUrl","axios","defaults","baseURL","userStatus","isUploadAvatarDrawerOpen","uploadRef","cropperRef","userProfileForm","reactive","username","mark","userProfileFormRef","userProfileFormRules","required","message","trigger","pattern","option","loadUserMessage","async","resp","getUserMessage","uuid","localStorage","getItem","avatar","signCode","ElNotification","title","offset","setItem","removeItem","clickBack","push","name","path","handleExceed","files","clearFiles","file","uid","genFileId","handleStart","submit","uploadFileAndOpenCropper","options","allowedTypes","ElMessage","maxSizeMB","maxSizeBytes","size","base64","toBase64","error","clickCancelUpload","doUploadAvatar","doUploadAvatarRequest","uploadAvatar","code","clickEditUserProfile","formEl","validate","valid","fields","doEditUserProfile","console","log","params","editUserProfile","_ctx","_cache","_component_Back","_resolveComponent","_component_el_icon","_component_el_button","_component_el_image","_component_el_card","_component_Upload","_component_el_upload","_component_el_divider","_component_el_input","_component_el_form_item","_component_CircleCheckFilled","_component_el_form","_component_el_drawer","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_createVNode","onClick","plain","_withCtx","_","_toDisplayString","$t","action","ref_key","accept","limit","_createTextVNode","model","rules","prop","modelValue","$event","maxlength","clearable","autosize","minRows","direction","header","_unref","VueCropper","footer","__exports__"],"sourceRoot":""}