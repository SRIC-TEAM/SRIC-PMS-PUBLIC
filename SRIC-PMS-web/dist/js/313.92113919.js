"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[313],{2240:function(e,a,t){t.d(a,{Hb:function(){return l},Pe:function(){return r},Vo:function(){return o},hZ:function(){return u}});var n=t(9470);function l(e){return(0,n.Jt)("/hManage/getHComicTagManageDataList",e)}function r(e){return(0,n.bE)("/hManage/addOrUpdateHComicTag",e)}function u(e){return(0,n.Jt)("/hManage/getHVideoTagManageDataList",e)}function o(e){return(0,n.bE)("/hManage/addOrUpdateHVideoTag",e)}},2313:function(e,a,t){t.r(a),t.d(a,{default:function(){return m}});var n=t(6768),l=t(4232),r=t(144),u=t(2240),o=t(1219),i=t(8374);const d={class:"h-comic-tag-manage-drawer-title"};var c=(0,n.pM)({__name:"HComicTagManage",setup(e){const{t:a}=i.A.global,t=(0,r.KR)([]),c=(0,r.KR)(window.innerHeight-240+"px"),s=(0,r.KR)(!1),m=(0,r.Kh)({name:""}),g=(0,r.KR)(),b=(0,r.Kh)({name:[{required:!0,message:a("rules.name"),trigger:"blur"}]}),f=(0,r.KR)(0),k=async()=>{try{const e=await(0,u.Hb)({});t.value=e.data}catch{}};(0,n.sV)((()=>{k()}));const p=e=>{m.name=e.name,s.value=!0,f.value=e.id},h=()=>{m.name="",s.value=!0,f.value=0},v=async()=>{try{const e={id:f.value,name:m.name},t=await(0,u.Pe)(e);200==t.data.code?(0,o.nk)({message:a("static.submitSuccess"),type:"success"}):400==t.data.code?(0,o.nk)({message:a("static.nameHasBeenUsed"),type:"warning"}):(0,o.nk)({message:a("static.paramsError"),type:"error"}),k(),s.value=!1}catch{}},_=async e=>{e&&await e.validate(((e,a)=>{e?v():console.log("error submit!",a)}))},F=()=>{c.value=window.innerHeight-240+"px"};return window.addEventListener("resize",F),(e,a)=>{const r=(0,n.g2)("el-table-column"),u=(0,n.g2)("el-button"),o=(0,n.g2)("el-table"),i=(0,n.g2)("Plus"),f=(0,n.g2)("el-icon"),k=(0,n.g2)("el-card"),v=(0,n.g2)("el-input"),F=(0,n.g2)("el-form-item"),w=(0,n.g2)("CircleCheckFilled"),y=(0,n.g2)("el-form"),C=(0,n.g2)("el-drawer");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.bF)(o,{data:t.value,height:c.value},{default:(0,n.k6)((()=>[(0,n.bF)(r,{prop:"id"},{header:(0,n.k6)((()=>[(0,n.eW)(" TAG ID ")])),_:1}),(0,n.bF)(r,{prop:"name"},{header:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.$t("common.name")),1)])),_:1}),(0,n.bF)(r,{prop:"number"},{header:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.$t("static.itemNumber")),1)])),_:1}),(0,n.bF)(r,{fixed:"right",label:"Operations",width:"120"},{header:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.$t("common.operations")),1)])),default:(0,n.k6)((a=>[(0,n.bF)(u,{link:"",type:"primary",onClick:e=>p(a.row)},{default:(0,n.k6)((()=>[(0,n.eW)((0,l.v_)(e.$t("common.edit")),1)])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","height"]),(0,n.bF)(u,{onClick:a[0]||(a[0]=e=>h()),type:"warning",class:"h-comic-tag-manage-add-button",plain:""},{default:(0,n.k6)((()=>[(0,n.bF)(f,null,{default:(0,n.k6)((()=>[(0,n.bF)(i)])),_:1}),(0,n.Lk)("span",null,(0,l.v_)(e.$t("common.add")),1)])),_:1})])),_:1}),(0,n.bF)(C,{modelValue:s.value,"onUpdate:modelValue":a[3]||(a[3]=e=>s.value=e)},{header:(0,n.k6)((()=>[(0,n.Lk)("span",d,(0,l.v_)(e.$t("static.editAndAddTag")),1)])),default:(0,n.k6)((()=>[(0,n.bF)(y,{ref_key:"tagFormRef",ref:g,model:m,rules:b},{default:(0,n.k6)((()=>[(0,n.bF)(F,{prop:"name"},{default:(0,n.k6)((()=>[(0,n.Lk)("h1",null,(0,l.v_)(e.$t("common.name")),1),(0,n.bF)(v,{modelValue:m.name,"onUpdate:modelValue":a[1]||(a[1]=e=>m.name=e),maxlength:"10","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1}),(0,n.bF)(F,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{onClick:a[2]||(a[2]=e=>_(g.value)),type:"success"},{default:(0,n.k6)((()=>[(0,n.bF)(f,{class:"h-comic-tag-manage-submit-button-icon",size:"15"},{default:(0,n.k6)((()=>[(0,n.bF)(w)])),_:1}),(0,n.eW)(" "+(0,l.v_)(e.$t("common.submit")),1)])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])],64)}}});const s=c;var m=s}}]);
//# sourceMappingURL=313.92113919.js.map