"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[378],{8942:function(e,a,t){t.d(a,{BU:function(){return o},C6:function(){return d},DO:function(){return l},P2:function(){return n},UB:function(){return r},Ym:function(){return g},dP:function(){return c},r$:function(){return i},r3:function(){return u}});var s=t(9470);function n(e){return(0,s.Jt)("/resourcesManage/getResourcesCategoryManageDataList",e)}function r(e){return(0,s.Jt)("/resources/getResourcesCategoryList",e)}function u(e){return(0,s.bE)("/resourcesManage/addOrUpdateResourcesCategory",e)}function l(e){return(0,s.Jt)("/resourcesManage/getResourcesManageList",e)}function o(e){return(0,s.bE)("/resourcesManage/editResourcesMessage",e)}function c(e){return(0,s.Jt)("/resourcesManage/checkResourcesName",e)}function i(e,a){return(0,s.jT)("/resourcesManage/uploadResources",e,a)}function d(e){return(0,s.Jt)("/resources/getResourcesList",e)}function g(e){return(0,s.PE)("/resources/downloadResources",e)}},9997:function(e,a,t){t.r(a),t.d(a,{default:function(){return U}});var s=t(6768),n=t(4232),r=t(144),u=t(8942),l=t(9055),o=t(1387),c=t(3851),i=t(8374);const d={class:"common-body-set-width"},g={class:"resources-category-item-span"},v={class:"resources-category-item-span"},k={class:"resources-search-div"},p={class:"resources-card-details"},f={class:"resources-card-name-text"},m={class:"resources-card-tags-div"},b={class:"resources-manage-card-span"},_={class:"resources-manage-card-span"},h={class:"resources-card-tag-text"},w={class:"resources-manage-card-span"},y={class:"resources-pagination-div"},F={class:"resources-delete-confirm-div"},L={class:"resources-delete-confirm-name"},R={class:"resources-delete-confirm-name-type"},x={class:"resources-delete-confirm-title"},C={class:"resources-card-tag-text"},M={class:"resources-manage-card-span"},K="0";var z=(0,s.pM)({__name:"ResourcesIndex",setup(e){const{t:a}=i.A.global,t=((0,o.rd)(),(0,r.KR)("min-height:"+(window.innerHeight-200)+"px;")),z=(0,r.KR)(!1),E=(0,r.KR)("200px"),U=(0,r.KR)(!1),V=(0,r.KR)({}),B=(0,r.KR)(!1),H=(0,r.KR)([]),J=(0,r.KR)("0"),W=(0,r.KR)(window.innerHeight-225+"px"),X=(0,r.KR)(),$=(0,r.KR)(1),I=(0,r.KR)(0),P=(0,r.KR)([]),T=async()=>{try{const e=await(0,u.UB)({});H.value=e.data}catch{}},D=async()=>{try{const e={searchInput:X.value,category:J.value,page:$.value},a=await(0,u.C6)(e);I.value=a.data.total,P.value=a.data.resourcesList}catch{}};(0,s.sV)((()=>{T(),D()}));const N=e=>{J.value=e,D()},S=e=>{P.value[e].background="border-width: 5px;"},O=e=>{P.value[e].background=""},Y=()=>{D()},j=e=>{U.value=!0,V.value=e},A=async()=>{B.value=!0,U.value=!1,(0,c.df)({title:a("common.noties"),message:(0,s.h)("i",{style:"color: #409EFF"},a("static.downloadHasStarted")),offset:50});try{const e={uuid:V.value.uuid},a=await(0,u.Ym)(e);(0,l.wh)(a),B.value=!1}catch{}},q=()=>{D()},G=()=>{t.value="min-height:"+(window.innerHeight-200)+"px;",window.innerWidth<800?(z.value=!0,E.value="75px"):(z.value=!1,E.value="200px"),Q()},Q=()=>{W.value=window.innerHeight-225+"px"};return G(),window.addEventListener("resize",G),(e,a)=>{const r=(0,s.g2)("Coin"),u=(0,s.g2)("el-icon"),l=(0,s.g2)("el-menu-item"),o=(0,s.g2)("Menu"),c=(0,s.g2)("el-menu"),i=(0,s.g2)("el-aside"),J=(0,s.g2)("search"),T=(0,s.g2)("el-button"),D=(0,s.g2)("el-input"),G=(0,s.g2)("Download"),Q=(0,s.g2)("el-tag"),Z=(0,s.g2)("el-card"),ee=(0,s.g2)("el-scrollbar"),ae=(0,s.g2)("el-pagination"),te=(0,s.g2)("el-main"),se=(0,s.g2)("el-container"),ne=(0,s.g2)("el-drawer");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",d,[(0,s.bF)(se,null,{default:(0,s.k6)((()=>[(0,s.bF)(i,{width:E.value},{default:(0,s.k6)((()=>[(0,s.bF)(c,{style:(0,n.Tr)(t.value),"default-active":K,ellipsis:!1,collapse:z.value,onSelect:N},{default:(0,s.k6)((()=>[(0,s.bF)(l,{index:"0"},{title:(0,s.k6)((()=>[(0,s.Lk)("span",g,(0,n.v_)(e.$t("common.all")),1)])),default:(0,s.k6)((()=>[(0,s.bF)(u,{size:25},{default:(0,s.k6)((()=>[(0,s.bF)(r)])),_:1})])),_:1}),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(H.value,((e,a)=>((0,s.uX)(),(0,s.Wv)(l,{key:a,index:e.id.toString()},{title:(0,s.k6)((()=>[(0,s.Lk)("span",v,(0,n.v_)(e.name),1)])),default:(0,s.k6)((()=>[(0,s.bF)(u,{size:25},{default:(0,s.k6)((()=>[(0,s.bF)(o)])),_:1})])),_:2},1032,["index"])))),128))])),_:1},8,["style","collapse"])])),_:1},8,["width"]),(0,s.bF)(te,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.Lk)("div",k,[(0,s.bF)(D,{modelValue:X.value,"onUpdate:modelValue":a[0]||(a[0]=e=>X.value=e),placeholder:"search"},{append:(0,s.k6)((()=>[(0,s.bF)(T,{onClick:Y},{default:(0,s.k6)((()=>[(0,s.bF)(u,null,{default:(0,s.k6)((()=>[(0,s.bF)(J)])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,s.bF)(ee,{height:W.value},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(P.value,((e,a)=>((0,s.uX)(),(0,s.Wv)(Z,{key:a,onMouseover:e=>S(a),onMouseleave:e=>O(a),style:(0,n.Tr)(e.background),class:"resources-card"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",p,[(0,s.Lk)("span",f,(0,n.v_)(e.name),1),(0,s.bF)(T,{class:"resources-card-download-button",type:"success",onClick:a=>j(e)},{default:(0,s.k6)((()=>[(0,s.bF)(u,{size:18},{default:(0,s.k6)((()=>[(0,s.bF)(G)])),_:1})])),_:2},1032,["onClick"]),(0,s.Lk)("div",m,[(0,s.Lk)("span",b,(0,n.v_)(e.type),1),(0,s.Lk)("span",_,(0,n.v_)(e.size)+"MB",1),(0,s.bF)(Q,{class:"resources-card-tags",effect:"dark",type:"warning",size:"small"},{default:(0,s.k6)((()=>[(0,s.Lk)("span",h,(0,n.v_)(e.categoryName),1)])),_:2},1024),(0,s.Lk)("span",w,(0,n.v_)(e.createTime),1)])])])),_:2},1032,["onMouseover","onMouseleave","style"])))),128))])),_:1},8,["height"]),(0,s.Lk)("div",y,[(0,s.bF)(ae,{layout:"prev, pager, next","current-page":$.value,"onUpdate:currentPage":a[1]||(a[1]=e=>$.value=e),onCurrentChange:a[2]||(a[2]=e=>q()),"page-size":20,total:I.value,"pager-count":5,background:""},null,8,["current-page","total"])])])])),_:1})])),_:1})]),(0,s.bF)(ne,{modelValue:U.value,"onUpdate:modelValue":a[4]||(a[4]=e=>U.value=e),direction:"ttb"},{header:(0,s.k6)((()=>[(0,s.Lk)("h1",null,(0,n.v_)(e.$t("static.downloadFile")),1)])),default:(0,s.k6)((()=>[(0,s.Lk)("div",F,[(0,s.Lk)("div",L,[(0,s.eW)((0,n.v_)(e.$t("common.download"))+" "+(0,n.v_)(V.value.name)+" ",1),(0,s.Lk)("span",R,(0,n.v_)(V.value.type),1)]),(0,s.Lk)("div",x,[(0,s.bF)(Q,{class:"resources-card-tags",effect:"dark",type:"warning",size:"small"},{default:(0,s.k6)((()=>[(0,s.Lk)("span",C,(0,n.v_)(V.value.categoryName),1)])),_:1}),(0,s.Lk)("span",M,(0,n.v_)(V.value.size)+"MB",1)])])])),footer:(0,s.k6)((()=>[(0,s.bF)(T,{type:"danger",onClick:a[3]||(a[3]=e=>A()),loading:B.value},{default:(0,s.k6)((()=>[(0,s.bF)(u,{size:18,style:{"margin-right":"5px"}},{default:(0,s.k6)((()=>[(0,s.bF)(G)])),_:1}),(0,s.eW)(" "+(0,n.v_)(e.$t("common.download")),1)])),_:1},8,["loading"])])),_:1},8,["modelValue"])],64)}}});const E=z;var U=E}}]);
//# sourceMappingURL=378.8e5b21a7.js.map