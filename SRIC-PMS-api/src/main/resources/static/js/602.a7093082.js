"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[602],{6602:function(e,a,l){l.r(a),l.d(a,{default:function(){return h}});l(4114);var t=l(6768),i=l(4232),u=l(8355),n=l(144),s=l(9470);function c(e){return(0,s.Jt)("/h/getHPictureRandomList",e)}const r={id:"hPictureLeftImage"},o={id:"hPictureRightImage"},d={class:"HFilesPictuire-load-button-p"},v={class:"HFilesPictuire-load-button-p"};var f=(0,t.pM)({__name:"HfilesPicture",setup(e){const a=(0,n.KR)([]),l=(0,n.KR)([]),s=(0,n.KR)(window.innerHeight-140+"px"),f=(0,n.KR)([]),g=(0,n.KR)(),h=(0,n.KR)(-1),w=(0,n.KR)(!1),k=(0,n.KR)(!1),p=(e,t)=>new Promise((i=>{const n=new Image;n.onload=()=>{const n=document.getElementById("hPictureLeftImage"),s=document.getElementById("hPictureRightImage");if(n&&s){const c=n.offsetHeight,r=s.offsetHeight;c>r?l.value.push(u.A.defaults.baseURL+"/file/hPicture/"+e+"."+t):a.value.push(u.A.defaults.baseURL+"/file/hPicture/"+e+"."+t),i()}},n.src=u.A.defaults.baseURL+"/file/hPicture/"+e+"."+t})),b=async()=>{try{const e=await c({});f.value=e.data,g.value=e.data.length-1}catch{}},P=async(e,a)=>{for(let l=e;l<=a;l++)await p(f.value[l].id,f.value[l].filename)},m=async()=>{h.value+10<=g.value?(await P(h.value+1,h.value+10),h.value=h.value+10):(await P(h.value+1,g.value),h.value=g.value),h.value>=g.value&&(w.value=!0)},F=async()=>{k.value=!0,await m(),k.value=!1};(0,t.sV)((async()=>{await b(),await m()}));const R=e=>{console.log(e)},y=()=>{s.value=window.innerHeight-140+"px"};return y(),window.addEventListener("resize",y),(e,u)=>{const n=(0,t.g2)("el-image"),c=(0,t.g2)("el-card"),f=(0,t.g2)("el-col"),g=(0,t.g2)("el-row"),h=(0,t.g2)("el-scrollbar"),p=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(h,{onScroll:u[0]||(u[0]=e=>R(e)),height:s.value},{default:(0,t.k6)((()=>[(0,t.bF)(g,null,{default:(0,t.k6)((()=>[(0,t.bF)(f,{span:12},{default:(0,t.k6)((()=>[(0,t.Lk)("div",r,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.value,((e,l)=>((0,t.uX)(),(0,t.Wv)(c,{key:l,class:"HFilesPictuire-card"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{src:e,"preview-src-list":a.value,"initial-index":l},null,8,["src","preview-src-list","initial-index"])])),_:2},1024)))),128))])])),_:1}),(0,t.bF)(f,{span:12},{default:(0,t.k6)((()=>[(0,t.Lk)("div",o,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.value,((e,a)=>((0,t.uX)(),(0,t.Wv)(c,{key:a,class:"HFilesPictuire-card"},{default:(0,t.k6)((()=>[(0,t.bF)(n,{src:e,"preview-src-list":l.value,"initial-index":a},null,8,["src","preview-src-list","initial-index"])])),_:2},1024)))),128))])])),_:1})])),_:1}),(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",null,[w.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(c,{key:0,class:"HFilesPictuire-load-button-card",onClick:F},{default:(0,t.k6)((()=>[(0,t.Lk)("p",d,(0,i.v_)(e.$t("static.loadMore")),1)])),_:1})),w.value?((0,t.uX)(),(0,t.Wv)(c,{key:1,class:"HFilesPictuire-load-button-card"},{default:(0,t.k6)((()=>[(0,t.Lk)("p",v,(0,i.v_)(e.$t("static.noMore")),1)])),_:1})):(0,t.Q3)("",!0)])),[[p,k.value]])])),_:1},8,["height"])])}}});const g=f;var h=g}}]);
//# sourceMappingURL=602.a7093082.js.map